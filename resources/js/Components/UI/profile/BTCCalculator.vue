<template>
    <div class="BTC__block">
        <div class="BTC__icon">
            <svg
                v-if="this.icon === 1"
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
            >
                <path
                    d="M29.3333 22.6666H2.66659C2.31296 22.6666 1.97382 22.8071 1.72378 23.0572C1.47373 23.3072 1.33325 23.6464 1.33325 24C1.33325 24.3536 1.47373 24.6927 1.72378 24.9428C1.97382 25.1928 2.31296 25.3333 2.66659 25.3333H29.3333C29.6869 25.3333 30.026 25.1928 30.2761 24.9428C30.5261 24.6927 30.6666 24.3536 30.6666 24C30.6666 23.6464 30.5261 23.3072 30.2761 23.0572C30.026 22.8071 29.6869 22.6666 29.3333 22.6666ZM29.3333 28H2.66659C2.31296 28 1.97382 28.1405 1.72378 28.3905C1.47373 28.6406 1.33325 28.9797 1.33325 29.3333C1.33325 29.6869 1.47373 30.0261 1.72378 30.2761C1.97382 30.5262 2.31296 30.6666 2.66659 30.6666H29.3333C29.6869 30.6666 30.026 30.5262 30.2761 30.2761C30.5261 30.0261 30.6666 29.6869 30.6666 29.3333C30.6666 28.9797 30.5261 28.6406 30.2761 28.3905C30.026 28.1405 29.6869 28 29.3333 28ZM7.99992 9.33331C7.73621 9.33331 7.47842 9.41151 7.25916 9.55802C7.03989 9.70453 6.869 9.91277 6.76808 10.1564C6.66716 10.4 6.64076 10.6681 6.6922 10.9268C6.74365 11.1854 6.87064 11.423 7.05711 11.6095C7.24358 11.7959 7.48116 11.9229 7.7398 11.9744C7.99844 12.0258 8.26653 11.9994 8.51016 11.8985C8.7538 11.7976 8.96204 11.6267 9.10854 11.4074C9.25505 11.1881 9.33325 10.9304 9.33325 10.6666C9.33325 10.313 9.19278 9.97389 8.94273 9.72384C8.69268 9.47379 8.35354 9.33331 7.99992 9.33331ZM26.6666 1.33331H5.33325C4.27239 1.33331 3.25497 1.75474 2.50482 2.50489C1.75468 3.25503 1.33325 4.27245 1.33325 5.33331V16C1.33325 17.0608 1.75468 18.0783 2.50482 18.8284C3.25497 19.5786 4.27239 20 5.33325 20H26.6666C27.7274 20 28.7449 19.5786 29.495 18.8284C30.2452 18.0783 30.6666 17.0608 30.6666 16V5.33331C30.6666 4.27245 30.2452 3.25503 29.495 2.50489C28.7449 1.75474 27.7274 1.33331 26.6666 1.33331ZM27.9999 16C27.9999 16.3536 27.8594 16.6927 27.6094 16.9428C27.3593 17.1928 27.0202 17.3333 26.6666 17.3333H5.33325C4.97963 17.3333 4.64049 17.1928 4.39044 16.9428C4.14039 16.6927 3.99992 16.3536 3.99992 16V5.33331C3.99992 4.97969 4.14039 4.64055 4.39044 4.3905C4.64049 4.14046 4.97963 3.99998 5.33325 3.99998H26.6666C27.0202 3.99998 27.3593 4.14046 27.6094 4.3905C27.8594 4.64055 27.9999 4.97969 27.9999 5.33331V16ZM15.9999 6.66665C15.2088 6.66665 14.4354 6.90124 13.7776 7.34077C13.1198 7.78029 12.6072 8.40501 12.3044 9.13591C12.0016 9.86682 11.9224 10.6711 12.0768 11.447C12.2311 12.2229 12.6121 12.9357 13.1715 13.4951C13.7309 14.0545 14.4436 14.4354 15.2196 14.5898C15.9955 14.7441 16.7997 14.6649 17.5307 14.3622C18.2616 14.0594 18.8863 13.5467 19.3258 12.8889C19.7653 12.2311 19.9999 11.4578 19.9999 10.6666C19.9999 9.60578 19.5785 8.58836 18.8283 7.83822C18.0782 7.08807 17.0608 6.66665 15.9999 6.66665ZM15.9999 12C15.7362 12 15.4784 11.9218 15.2592 11.7753C15.0399 11.6288 14.869 11.4205 14.7681 11.1769C14.6672 10.9333 14.6408 10.6652 14.6922 10.4065C14.7437 10.1479 14.8706 9.91031 15.0571 9.72384C15.2436 9.53737 15.4812 9.41038 15.7398 9.35893C15.9984 9.30749 16.2665 9.33389 16.5102 9.43481C16.7538 9.53572 16.962 9.70662 17.1085 9.92589C17.2551 10.1452 17.3333 10.4029 17.3333 10.6666C17.3333 11.0203 17.1928 11.3594 16.9427 11.6095C16.6927 11.8595 16.3535 12 15.9999 12ZM23.9999 9.33331C23.7362 9.33331 23.4784 9.41151 23.2592 9.55802C23.0399 9.70453 22.869 9.91277 22.7681 10.1564C22.6672 10.4 22.6408 10.6681 22.6922 10.9268C22.7437 11.1854 22.8706 11.423 23.0571 11.6095C23.2436 11.7959 23.4812 11.9229 23.7398 11.9744C23.9984 12.0258 24.2665 11.9994 24.5102 11.8985C24.7538 11.7976 24.962 11.6267 25.1085 11.4074C25.2551 11.1881 25.3333 10.9304 25.3333 10.6666C25.3333 10.313 25.1928 9.97389 24.9427 9.72384C24.6927 9.47379 24.3535 9.33331 23.9999 9.33331Z"
                />
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                >
                    <path
                        d="M29.3333 22.6666H2.66659C2.31296 22.6666 1.97382 22.8071 1.72378 23.0572C1.47373 23.3072 1.33325 23.6464 1.33325 24C1.33325 24.3536 1.47373 24.6927 1.72378 24.9428C1.97382 25.1928 2.31296 25.3333 2.66659 25.3333H29.3333C29.6869 25.3333 30.026 25.1928 30.2761 24.9428C30.5261 24.6927 30.6666 24.3536 30.6666 24C30.6666 23.6464 30.5261 23.3072 30.2761 23.0572C30.026 22.8071 29.6869 22.6666 29.3333 22.6666ZM29.3333 28H2.66659C2.31296 28 1.97382 28.1405 1.72378 28.3905C1.47373 28.6406 1.33325 28.9797 1.33325 29.3333C1.33325 29.6869 1.47373 30.0261 1.72378 30.2761C1.97382 30.5262 2.31296 30.6666 2.66659 30.6666H29.3333C29.6869 30.6666 30.026 30.5262 30.2761 30.2761C30.5261 30.0261 30.6666 29.6869 30.6666 29.3333C30.6666 28.9797 30.5261 28.6406 30.2761 28.3905C30.026 28.1405 29.6869 28 29.3333 28ZM7.99992 9.33331C7.73621 9.33331 7.47842 9.41151 7.25916 9.55802C7.03989 9.70453 6.869 9.91277 6.76808 10.1564C6.66716 10.4 6.64076 10.6681 6.6922 10.9268C6.74365 11.1854 6.87064 11.423 7.05711 11.6095C7.24358 11.7959 7.48116 11.9229 7.7398 11.9744C7.99844 12.0258 8.26653 11.9994 8.51016 11.8985C8.7538 11.7976 8.96204 11.6267 9.10854 11.4074C9.25505 11.1881 9.33325 10.9304 9.33325 10.6666C9.33325 10.313 9.19278 9.97389 8.94273 9.72384C8.69268 9.47379 8.35354 9.33331 7.99992 9.33331ZM26.6666 1.33331H5.33325C4.27239 1.33331 3.25497 1.75474 2.50482 2.50489C1.75468 3.25503 1.33325 4.27245 1.33325 5.33331V16C1.33325 17.0608 1.75468 18.0783 2.50482 18.8284C3.25497 19.5786 4.27239 20 5.33325 20H26.6666C27.7274 20 28.7449 19.5786 29.495 18.8284C30.2452 18.0783 30.6666 17.0608 30.6666 16V5.33331C30.6666 4.27245 30.2452 3.25503 29.495 2.50489C28.7449 1.75474 27.7274 1.33331 26.6666 1.33331ZM27.9999 16C27.9999 16.3536 27.8594 16.6927 27.6094 16.9428C27.3593 17.1928 27.0202 17.3333 26.6666 17.3333H5.33325C4.97963 17.3333 4.64049 17.1928 4.39044 16.9428C4.14039 16.6927 3.99992 16.3536 3.99992 16V5.33331C3.99992 4.97969 4.14039 4.64055 4.39044 4.3905C4.64049 4.14046 4.97963 3.99998 5.33325 3.99998H26.6666C27.0202 3.99998 27.3593 4.14046 27.6094 4.3905C27.8594 4.64055 27.9999 4.97969 27.9999 5.33331V16ZM15.9999 6.66665C15.2088 6.66665 14.4354 6.90124 13.7776 7.34077C13.1198 7.78029 12.6072 8.40501 12.3044 9.13591C12.0016 9.86682 11.9224 10.6711 12.0768 11.447C12.2311 12.2229 12.6121 12.9357 13.1715 13.4951C13.7309 14.0545 14.4436 14.4354 15.2196 14.5898C15.9955 14.7441 16.7997 14.6649 17.5307 14.3622C18.2616 14.0594 18.8863 13.5467 19.3258 12.8889C19.7653 12.2311 19.9999 11.4578 19.9999 10.6666C19.9999 9.60578 19.5785 8.58836 18.8283 7.83822C18.0782 7.08807 17.0608 6.66665 15.9999 6.66665ZM15.9999 12C15.7362 12 15.4784 11.9218 15.2592 11.7753C15.0399 11.6288 14.869 11.4205 14.7681 11.1769C14.6672 10.9333 14.6408 10.6652 14.6922 10.4065C14.7437 10.1479 14.8706 9.91031 15.0571 9.72384C15.2436 9.53737 15.4812 9.41038 15.7398 9.35893C15.9984 9.30749 16.2665 9.33389 16.5102 9.43481C16.7538 9.53572 16.962 9.70662 17.1085 9.92589C17.2551 10.1452 17.3333 10.4029 17.3333 10.6666C17.3333 11.0203 17.1928 11.3594 16.9427 11.6095C16.6927 11.8595 16.3535 12 15.9999 12ZM23.9999 9.33331C23.7362 9.33331 23.4784 9.41151 23.2592 9.55802C23.0399 9.70453 22.869 9.91277 22.7681 10.1564C22.6672 10.4 22.6408 10.6681 22.6922 10.9268C22.7437 11.1854 22.8706 11.423 23.0571 11.6095C23.2436 11.7959 23.4812 11.9229 23.7398 11.9744C23.9984 12.0258 24.2665 11.9994 24.5102 11.8985C24.7538 11.7976 24.962 11.6267 25.1085 11.4074C25.2551 11.1881 25.3333 10.9304 25.3333 10.6666C25.3333 10.313 25.1928 9.97389 24.9427 9.72384C24.6927 9.47379 24.3535 9.33331 23.9999 9.33331Z"
                    />
                </svg>
            </svg>
            <svg
                v-else
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
            >
                <path
                    d="M15.9999 16C15.2088 16 14.4354 16.2346 13.7776 16.6741C13.1198 17.1136 12.6072 17.7383 12.3044 18.4692C12.0016 19.2001 11.9224 20.0044 12.0768 20.7803C12.2311 21.5562 12.6121 22.269 13.1715 22.8284C13.7309 23.3878 14.4436 23.7688 15.2196 23.9231C15.9955 24.0774 16.7997 23.9982 17.5307 23.6955C18.2616 23.3927 18.8863 22.88 19.3258 22.2222C19.7653 21.5644 19.9999 20.7911 19.9999 20C19.9999 18.9391 19.5785 17.9217 18.8283 17.1715C18.0782 16.4214 17.0608 16 15.9999 16ZM15.9999 21.3333C15.7362 21.3333 15.4784 21.2551 15.2592 21.1086C15.0399 20.9621 14.869 20.7538 14.7681 20.5102C14.6672 20.2666 14.6408 19.9985 14.6922 19.7398C14.7437 19.4812 14.8706 19.2436 15.0571 19.0572C15.2436 18.8707 15.4812 18.7437 15.7398 18.6922C15.9984 18.6408 16.2665 18.6672 16.5102 18.7681C16.7538 18.869 16.962 19.0399 17.1085 19.2592C17.2551 19.4785 17.3333 19.7363 17.3333 20C17.3333 20.3536 17.1928 20.6927 16.9427 20.9428C16.6927 21.1928 16.3535 21.3333 15.9999 21.3333ZM15.0533 12.9466C15.1801 13.068 15.3296 13.1632 15.4933 13.2266C15.6529 13.2972 15.8254 13.3336 15.9999 13.3336C16.1744 13.3336 16.347 13.2972 16.5066 13.2266C16.6703 13.1632 16.8198 13.068 16.9466 12.9466L19.9999 9.94663C20.2581 9.68848 20.4031 9.33836 20.4031 8.97329C20.4031 8.60822 20.2581 8.2581 19.9999 7.99996C19.7418 7.74182 19.3917 7.59679 19.0266 7.59679C18.6615 7.59679 18.3114 7.74182 18.0533 7.99996L17.3333 8.78663V3.99996C17.3333 3.64634 17.1928 3.3072 16.9427 3.05715C16.6927 2.8071 16.3535 2.66663 15.9999 2.66663C15.6463 2.66663 15.3072 2.8071 15.0571 3.05715C14.8071 3.3072 14.6666 3.64634 14.6666 3.99996V8.78663L13.9466 7.99996C13.6884 7.74182 13.3383 7.59679 12.9733 7.59679C12.6082 7.59679 12.2581 7.74182 11.9999 7.99996C11.7418 8.2581 11.5968 8.60822 11.5968 8.97329C11.5968 9.33836 11.7418 9.68848 11.9999 9.94663L15.0533 12.9466ZM25.3333 20C25.3333 19.7363 25.2551 19.4785 25.1085 19.2592C24.962 19.0399 24.7538 18.869 24.5102 18.7681C24.2665 18.6672 23.9984 18.6408 23.7398 18.6922C23.4812 18.7437 23.2436 18.8707 23.0571 19.0572C22.8706 19.2436 22.7437 19.4812 22.6922 19.7398C22.6408 19.9985 22.6672 20.2666 22.7681 20.5102C22.869 20.7538 23.0399 20.9621 23.2592 21.1086C23.4784 21.2551 23.7362 21.3333 23.9999 21.3333C24.3535 21.3333 24.6927 21.1928 24.9427 20.9428C25.1928 20.6927 25.3333 20.3536 25.3333 20ZM26.6666 10.6666H22.6666C22.313 10.6666 21.9738 10.8071 21.7238 11.0572C21.4737 11.3072 21.3333 11.6463 21.3333 12C21.3333 12.3536 21.4737 12.6927 21.7238 12.9428C21.9738 13.1928 22.313 13.3333 22.6666 13.3333H26.6666C27.0202 13.3333 27.3593 13.4738 27.6094 13.7238C27.8594 13.9739 27.9999 14.313 27.9999 14.6666V25.3333C27.9999 25.6869 27.8594 26.0261 27.6094 26.2761C27.3593 26.5262 27.0202 26.6666 26.6666 26.6666H5.33325C4.97963 26.6666 4.64049 26.5262 4.39044 26.2761C4.14039 26.0261 3.99992 25.6869 3.99992 25.3333V14.6666C3.99992 14.313 4.14039 13.9739 4.39044 13.7238C4.64049 13.4738 4.97963 13.3333 5.33325 13.3333H9.33325C9.68687 13.3333 10.026 13.1928 10.2761 12.9428C10.5261 12.6927 10.6666 12.3536 10.6666 12C10.6666 11.6463 10.5261 11.3072 10.2761 11.0572C10.026 10.8071 9.68687 10.6666 9.33325 10.6666H5.33325C4.27239 10.6666 3.25497 11.0881 2.50482 11.8382C1.75468 12.5883 1.33325 13.6058 1.33325 14.6666V25.3333C1.33325 26.3942 1.75468 27.4116 2.50482 28.1617C3.25497 28.9119 4.27239 29.3333 5.33325 29.3333H26.6666C27.7274 29.3333 28.7449 28.9119 29.495 28.1617C30.2452 27.4116 30.6666 26.3942 30.6666 25.3333V14.6666C30.6666 13.6058 30.2452 12.5883 29.495 11.8382C28.7449 11.0881 27.7274 10.6666 26.6666 10.6666ZM6.66658 20C6.66658 20.2637 6.74478 20.5215 6.89129 20.7407C7.0378 20.96 7.24604 21.1309 7.48967 21.2318C7.73331 21.3327 8.0014 21.3591 8.26004 21.3077C8.51868 21.2562 8.75626 21.1292 8.94273 20.9428C9.1292 20.7563 9.25619 20.5187 9.30763 20.2601C9.35908 20.0014 9.33267 19.7333 9.23176 19.4897C9.13084 19.2461 8.95994 19.0378 8.74068 18.8913C8.52141 18.7448 8.26363 18.6666 7.99992 18.6666C7.6463 18.6666 7.30716 18.8071 7.05711 19.0572C6.80706 19.3072 6.66658 19.6463 6.66658 20Z"
                />
            </svg>
        </div>
        <span class="BTC__title main__name">{{ title }}</span>
        <div class="BTC__value main__number">
            {{ value }} BTC
            <span>{{ dollarCalc.toFixed(2) }} $</span>
            <span>{{ rubleCalc.toFixed(2) }} ₽</span>
        </div>
    </div>
</template>
<script>
import axios from "axios";
export default {
    props: {
        BTC: {
            type: Number,
            default: 0,
        },
        title: String,
        icon: Number,
    },
    data() {
        return {
            dollarCalc: 0,
            rubleCalc: 0,
        };
    },
    computed: {
        value() {
            let val = 0;
            if (this.BTC) {
                val = this.BTC;
            }
            return Number(val).toFixed(8);
        },
    },
    methods: {
        calculator() {
            axios
                .get("https://api.minerstat.com/v2/coins?list=BTC,BCH,BSV")
                .then(
                    (response) =>
                        (this.dollarCalc = this.BTC * response.data[0].price)
                );
            setTimeout(() => {
                axios
                    .get("https://www.cbr-xml-daily.ru/latest.js")
                    .then(
                        (response) =>
                            (this.rubleCalc =
                                this.dollarCalc / response.data.rates.USD)
                    );
            }, 200);
        },
    },
    mounted() {
        this.calculator();
    },
    updated() {
        this.calculator();
    },
    name: "btc-calculator",
};
</script>
<style lang="scss" scoped>
.BTC {
    &__block {
        display: flex;
        flex-direction: column;
        gap: 8px;
        position: relative;
        @media (max-width: 991.98px) {
            padding-left: 58px;
        }
        @media (max-width: 767.98px) {
            flex-direction: row;
            background-color: #fff;
            border-radius: 12px;
            padding: 10px 10px 10px 68px;
            align-items: center;
            justify-content: space-between;
            min-height: 68px;
        }
        @media (max-width: 479.98px) {
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            gap: 0;
            min-height: 69px;
        }

        &:last-child {
            margin-bottom: 0;
        }
    }

    &__title {
        @media (max-width: 479.98px) {
            margin-bottom: 2px;
        }
    }

    &__icon {
        display: none;
        @media (max-width: 991.98px) {
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            width: 48px;
            height: 48px;
            background: #f4f6f9;
            border: 0.5px solid rgba(0, 0, 0, 0.04);
            border-radius: 12px;
            left: 0;
            top: 0;
        }
        @media (max-width: 767.98px) {
            left: 10px;
            top: 10px;
        }

        svg {
            fill: #818c99;
            max-width: 32px;
            max-height: 32px;
        }
    }

    &__value {
        display: inline-flex;
        align-items: center;
        flex-wrap: wrap;
        gap: 5px;
        @media (max-width: 767.98px) {
            text-align: right;
            justify-content: flex-end;
        }
        @media (max-width: 479.98px) {
            text-align: left;
            justify-content: flex-start;
            gap: 0 5px;
        }

        span {
            white-space: nowrap;
            display: inline-flex;
            gap: 5px;
            @media (max-width: 479.98px) {
                gap: 0 5px;
                font-size: 14px !important;
                font-weight: 500;
            }

            &::before {
                content: "≈";
            }

            &:first-child {
                @media (max-width: 479.98px) {
                    width: 100%;
                }
            }

            &:last-child {
                margin-right: 0;
            }
        }
    }
}
</style>
