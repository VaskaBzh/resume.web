<template>
    <input :type="type" class="input" v-model="vm" :placeholder="placeholder" />
    <transition name="fade">
        <svg
            @click="changetype"
            v-if="type === 'password'"
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M20.9663 18.0334L19.4997 16.5667C20.0775 14.989 19.7775 13.6779 18.5997 12.6334C17.4219 11.589 16.1441 11.3223 14.7663 11.8334L13.2997 10.3667C13.6775 10.1223 14.0997 9.94453 14.5663 9.83341C15.033 9.7223 15.5108 9.66675 15.9997 9.66675C17.5775 9.66675 18.9163 10.2167 20.0163 11.3167C21.1163 12.4167 21.6663 13.7556 21.6663 15.3334C21.6663 15.8223 21.6052 16.3056 21.483 16.7834C21.3608 17.2612 21.1886 17.6779 20.9663 18.0334ZM25.2663 22.3334L23.933 21.0001C25.0219 20.2001 25.9719 19.3056 26.783 18.3167C27.5941 17.3279 28.1886 16.3334 28.5663 15.3334C27.4552 12.8667 25.7886 10.9167 23.5663 9.48341C21.3441 8.05008 18.933 7.33341 16.333 7.33341C15.3997 7.33341 14.4441 7.4223 13.4663 7.60008C12.4886 7.77786 11.7219 7.98897 11.1663 8.23341L9.63301 6.66675C10.4108 6.31119 11.4052 6.00008 12.6163 5.73341C13.8275 5.46675 15.0108 5.33341 16.1663 5.33341C19.3441 5.33341 22.2497 6.23897 24.883 8.05008C27.5163 9.86119 29.4441 12.289 30.6663 15.3334C30.0886 16.7556 29.3441 18.0556 28.433 19.2334C27.5219 20.4112 26.4663 21.4445 25.2663 22.3334ZM27.1997 29.8667L21.5997 24.3667C20.8219 24.6779 19.9441 24.9167 18.9663 25.0834C17.9886 25.2501 16.9997 25.3334 15.9997 25.3334C12.7552 25.3334 9.81079 24.4279 7.16634 22.6167C4.5219 20.8056 2.57745 18.3779 1.33301 15.3334C1.77745 14.1779 2.39412 13.0501 3.18301 11.9501C3.9719 10.8501 4.93301 9.80008 6.06634 8.80008L1.86634 4.60008L3.26634 3.16675L28.4997 28.4001L27.1997 29.8667ZM7.43301 10.2001C6.61079 10.8001 5.81634 11.589 5.04967 12.5667C4.28301 13.5445 3.73301 14.4667 3.39967 15.3334C4.53301 17.8001 6.23856 19.7501 8.51634 21.1834C10.7941 22.6167 13.3775 23.3334 16.2663 23.3334C16.9997 23.3334 17.7219 23.289 18.433 23.2001C19.1441 23.1112 19.6775 22.9779 20.033 22.8001L17.8997 20.6667C17.6552 20.7779 17.3552 20.8612 16.9997 20.9167C16.6441 20.9723 16.3108 21.0001 15.9997 21.0001C14.4441 21.0001 13.1108 20.4556 11.9997 19.3667C10.8886 18.2779 10.333 16.9334 10.333 15.3334C10.333 15.0001 10.3608 14.6667 10.4163 14.3334C10.4719 14.0001 10.5552 13.7001 10.6663 13.4334L7.43301 10.2001Z"
            />
        </svg>
        <svg
            v-else
            @click="changetype"
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M16.0046 20.9999C17.5797 20.9999 18.9173 20.4486 20.0173 19.346C21.1173 18.2434 21.6673 16.9045 21.6673 15.3293C21.6673 13.7542 21.116 12.4166 20.0134 11.3166C18.9108 10.2166 17.5719 9.66659 15.9967 9.66659C14.4216 9.66659 13.084 10.2179 11.984 11.3205C10.884 12.4231 10.334 13.762 10.334 15.3372C10.334 16.9123 10.8853 18.2499 11.9879 19.3499C13.0905 20.4499 14.4294 20.9999 16.0046 20.9999ZM15.9928 19.0666C14.9536 19.0666 14.0729 18.7029 13.3507 17.9754C12.6284 17.248 12.2673 16.3646 12.2673 15.3254C12.2673 14.2862 12.631 13.4055 13.3585 12.6833C14.086 11.961 14.9693 11.5999 16.0085 11.5999C17.0477 11.5999 17.9284 11.9636 18.6507 12.6911C19.3729 13.4186 19.734 14.3019 19.734 15.3411C19.734 16.3803 19.3703 17.261 18.6428 17.9833C17.9154 18.7055 17.032 19.0666 15.9928 19.0666ZM16.0007 25.3333C12.7562 25.3333 9.82287 24.411 7.20065 22.5666C4.57843 20.7221 2.62287 18.311 1.33398 15.3333C2.62287 12.3555 4.57843 9.94436 7.20065 8.09992C9.82287 6.25547 12.7562 5.33325 16.0007 5.33325C19.2451 5.33325 22.1784 6.25547 24.8007 8.09992C27.4229 9.94436 29.3784 12.3555 30.6673 15.3333C29.3784 18.311 27.4229 20.7221 24.8007 22.5666C22.1784 24.411 19.2451 25.3333 16.0007 25.3333ZM15.995 23.3333C18.6877 23.3333 21.1618 22.6055 23.4173 21.1499C25.6729 19.6944 27.3895 17.7555 28.5673 15.3333C27.3895 12.911 25.6748 10.9721 23.423 9.51659C21.1711 8.06103 18.6989 7.33325 16.0063 7.33325C13.3136 7.33325 10.8395 8.06103 8.58398 9.51659C6.32843 10.9721 4.60065 12.911 3.40065 15.3333C4.60065 17.7555 6.32655 19.6944 8.57835 21.1499C10.8302 22.6055 13.3024 23.3333 15.995 23.3333Z"
            />
        </svg>
    </transition>
</template>

<script>
export default {
    name: "main-password",
    props: ["model", "placeholder"],
    data() {
        return {
            vm: "",
            type: "password",
        };
    },
    methods: {
        changetype() {
            this.type === "password"
                ? (this.type = "text")
                : (this.type = "password");
        },
    },
    watch: {
        vm() {
            this.$emit("change", this.vm);
        },
    },
};
</script>

<style scoped lang="scss">
.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.5s ease;
}
.fade-enter-from,
.fade-leave-to {
    opacity: 0;
}
</style>
