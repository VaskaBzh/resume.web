<template>
    <div class="nav__links_con">
        <div
            class="nav__header"
            id="burger_head"
            v-if="this.viewportWidth < 767.98"
        >
            <div class="nav__row">
                <Link
                    @click="closeBurger"
                    class="settings"
                    :href="route('settings')"
                >
                    <svg
                        v-show="is_auth"
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        viewBox="0 0 32 32"
                        fill="none"
                    >
                        <path
                            d="M20 16C20 18.2091 18.2091 20 16 20C13.7909 20 12 18.2091 12 16C12 13.7909 13.7909 12 16 12C18.2091 12 20 13.7909 20 16Z"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M17.2061 4.08006C16.9318 4 16.6212 4 16 4C15.3788 4 15.0682 4 14.7939 4.08006C14.3922 4.19725 14.0375 4.43743 13.7795 4.76681C13.6033 4.99183 13.4879 5.28021 13.2572 5.85695C12.9256 6.68602 12.0052 7.11294 11.1581 6.83067L10.397 6.57708C9.8572 6.39713 9.58726 6.30715 9.32262 6.29173C8.93385 6.26908 8.54694 6.36042 8.20935 6.55454C7.97953 6.68668 7.77834 6.88788 7.37596 7.29026C6.94829 7.71793 6.73445 7.93176 6.59861 8.17585C6.39903 8.53446 6.3146 8.94578 6.35678 9.35401C6.38549 9.63187 6.4978 9.91265 6.72243 10.4742C7.0742 11.3536 6.73578 12.3584 5.92363 12.8458L5.55361 13.0678C4.98708 13.4078 4.70382 13.5777 4.49806 13.8117C4.31597 14.0188 4.17868 14.2613 4.09479 14.524C4 14.8208 4 15.1544 4 15.8217C4 16.6118 4 17.0069 4.12616 17.345C4.23764 17.6438 4.41895 17.9116 4.65498 18.1261C4.9221 18.3688 5.28527 18.5141 6.01155 18.8046C6.75378 19.1015 7.13595 19.9255 6.88315 20.6839L6.59628 21.5445C6.39758 22.1406 6.29823 22.4386 6.2892 22.7315C6.27833 23.0836 6.36065 23.4323 6.52783 23.7423C6.66687 24.0002 6.88904 24.2224 7.33333 24.6667C7.77674 25.111 7.9998 25.3331 8.25767 25.4722C8.56773 25.6393 8.91645 25.7217 9.26854 25.7108C9.56137 25.7018 9.85942 25.6024 10.4555 25.4037L11.1582 25.1695C12.0052 24.8871 12.9256 25.314 13.2572 26.143C13.4879 26.7198 13.6033 27.0082 13.7795 27.2332C14.0375 27.5626 14.3922 27.8028 14.7939 27.9199C15.0682 28 15.3788 28 16 28C16.6212 28 16.9318 28 17.2061 27.9199C17.6078 27.8028 17.9625 27.5626 18.2205 27.2332C18.3967 27.0082 18.5121 26.7198 18.7428 26.143C19.0744 25.314 19.9948 24.8872 20.8418 25.1697L21.5439 25.4038C22.14 25.6025 22.4381 25.7019 22.7309 25.7109C23.083 25.7218 23.4317 25.6395 23.7418 25.4723C23.9997 25.3332 24.2218 25.1111 24.6661 24.6668C25.1104 24.2225 25.3326 24.0003 25.4716 23.7424C25.6388 23.4324 25.7211 23.0837 25.7103 22.7316C25.7012 22.4387 25.6019 22.1406 25.4032 21.5446L25.1165 20.6845C24.8636 19.9258 25.2459 19.1016 25.9884 18.8046C26.7147 18.5141 27.0779 18.3688 27.345 18.1261C27.581 17.9116 27.7624 17.6438 27.8738 17.345C28 17.0069 28 16.6118 28 15.8217C28 15.1544 28 14.8208 27.9052 14.524C27.8213 14.2613 27.684 14.0188 27.5019 13.8117C27.2962 13.5777 27.0129 13.4078 26.4464 13.0678L26.0759 12.8455C25.2637 12.3582 24.9253 11.3535 25.277 10.4741C25.5016 9.91257 25.614 9.63177 25.6427 9.35391C25.6848 8.94568 25.6004 8.53436 25.4008 8.17575C25.265 7.93166 25.0512 7.71783 24.6235 7.29016C24.2211 6.88779 24.0199 6.68658 23.7901 6.55444C23.4525 6.36032 23.0656 6.26898 22.6768 6.29163C22.4122 6.30705 22.1423 6.39703 21.6024 6.57698L20.8418 6.8305C19.9948 7.11286 19.0744 6.686 18.7428 5.85695C18.5121 5.28021 18.3967 4.99184 18.2205 4.76681C17.9625 4.43743 17.6078 4.19725 17.2061 4.08006Z"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                    </svg>
                </Link>
                <account-menu
                    :viewportWidth="viewportWidth"
                    :is_auth="is_auth"
                    v-show="is_auth"
                    @clicked="open"
                ></account-menu>
                <div class="login_link" v-show="!is_auth">
                    {{ $t("header.login.title") }}
                </div>
                <div @click="closeBurger" class="nav__burger active">
                    <div class="nav__burger_con">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
            <div class="nav__column">
                <div class="nav_block" v-show="is_auth">
                    <span class="nav_subtitle">
                        {{ $t("header.login.hash") }}</span
                    >
                    <span class="nav_value"
                        >{{
                            this.allAccounts[this.getActive]?.shares1m || "..."
                        }}
                        {{ this.allAccounts[this.getActive]?.unit }}H/s</span
                    >
                </div>
                <div class="nav_block" v-show="is_auth">
                    <span class="nav_subtitle">
                        {{ $t("header.login.workers") }}</span
                    >
                    <span class="nav_value"
                        >{{
                            this.allAccounts[this.getActive]?.workersActive ||
                            "..."
                        }}/{{
                            this.allAccounts[this.getActive]?.workersAll ||
                            "..."
                        }}</span
                    >
                </div>
                <div class="nav_block" v-show="!is_auth">
                    <span class="nav_title">
                        {{ $t("header.login.text") }}</span
                    >
                </div>
                <div class="nav_block" v-show="!is_auth">
                    <blue-button @click="openPopup(false)" data-popup="#auth">
                        <div class="all-link">
                            {{ $t("header.login.buttons.login") }}
                        </div>
                    </blue-button>
                    <span class="nav_text">
                        {{ $t("header.login.buttons.step") }}</span
                    >
                    <blue-button
                        class="light"
                        @click="openPopup(true)"
                        data-popup="#auth"
                    >
                        <div class="all-link">
                            {{ $t("header.login.buttons.registration") }}
                        </div>
                    </blue-button>
                </div>
            </div>
        </div>
        <div class="nav__links" id="links" @click="closeBurger">
            <Link
                :href="route('statistic')"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    'burger_link-active': $page.url === '/profile/statistic',
                }"
                v-if="this.viewportWidth < 767.98 && is_auth"
                class="nav-tabs__tab"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M5 12.5C4.73478 12.5 4.48043 12.6054 4.29289 12.7929C4.10536 12.9804 4 13.2348 4 13.5V21.5C4 21.7652 4.10536 22.0196 4.29289 22.2071C4.48043 22.3946 4.73478 22.5 5 22.5C5.26522 22.5 5.51957 22.3946 5.70711 22.2071C5.89464 22.0196 6 21.7652 6 21.5V13.5C6 13.2348 5.89464 12.9804 5.70711 12.7929C5.51957 12.6054 5.26522 12.5 5 12.5ZM10 2.5C9.73478 2.5 9.48043 2.60536 9.29289 2.79289C9.10536 2.98043 9 3.23478 9 3.5V21.5C9 21.7652 9.10536 22.0196 9.29289 22.2071C9.48043 22.3946 9.73478 22.5 10 22.5C10.2652 22.5 10.5196 22.3946 10.7071 22.2071C10.8946 22.0196 11 21.7652 11 21.5V3.5C11 3.23478 10.8946 2.98043 10.7071 2.79289C10.5196 2.60536 10.2652 2.5 10 2.5ZM20 16.5C19.7348 16.5 19.4804 16.6054 19.2929 16.7929C19.1054 16.9804 19 17.2348 19 17.5V21.5C19 21.7652 19.1054 22.0196 19.2929 22.2071C19.4804 22.3946 19.7348 22.5 20 22.5C20.2652 22.5 20.5196 22.3946 20.7071 22.2071C20.8946 22.0196 21 21.7652 21 21.5V17.5C21 17.2348 20.8946 16.9804 20.7071 16.7929C20.5196 16.6054 20.2652 16.5 20 16.5ZM15 8.5C14.7348 8.5 14.4804 8.60536 14.2929 8.79289C14.1054 8.98043 14 9.23478 14 9.5V21.5C14 21.7652 14.1054 22.0196 14.2929 22.2071C14.4804 22.3946 14.7348 22.5 15 22.5C15.2652 22.5 15.5196 22.3946 15.7071 22.2071C15.8946 22.0196 16 21.7652 16 21.5V9.5C16 9.23478 15.8946 8.98043 15.7071 8.79289C15.5196 8.60536 15.2652 8.5 15 8.5Z"
                    />
                </svg>

                {{ $t("header.links.statistic") }}
            </Link>
            <Link
                :href="route('accounts')"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    'burger_link-active': $page.url === '/profile/accounts',
                }"
                v-if="this.viewportWidth < 767.98 && is_auth"
                class="nav-tabs__tab"
            >
                <svg
                    width="21"
                    height="23"
                    viewBox="0 0 21 23"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M2.13369 22.5H18.8663C19.5319 22.5 20.0539 22.3578 20.4323 22.0734C20.8108 21.789 21 21.3985 21 20.9019C21 20.1329 20.7567 19.3199 20.2702 18.4628C19.7835 17.6057 19.0847 16.8027 18.1738 16.0537C17.263 15.3048 16.1608 14.696 14.8672 14.2274C13.5737 13.7588 12.1159 13.5245 10.4938 13.5245C8.88 13.5245 7.42634 13.7588 6.13281 14.2274C4.83929 14.696 3.73501 15.3048 2.81997 16.0537C1.90493 16.8027 1.20618 17.6057 0.723709 18.4628C0.241236 19.3199 0 20.1329 0 20.9019C0 21.3985 0.189246 21.789 0.567738 22.0734C0.94623 22.3578 1.46822 22.5 2.13369 22.5ZM10.5063 11.3738C11.3964 11.3738 12.2199 11.1395 12.9768 10.6709C13.7338 10.2023 14.3432 9.5675 14.8048 8.76648C15.2665 7.96547 15.4974 7.06432 15.4974 6.06304C15.4974 5.07779 15.2665 4.19467 14.8048 3.41368C14.3432 2.63269 13.7338 2.01791 12.9768 1.56934C12.2199 1.12077 11.3964 0.896484 10.5063 0.896484C9.61619 0.896484 8.79265 1.12477 8.03567 1.58135C7.27869 2.03794 6.66936 2.65873 6.20768 3.44372C5.74601 4.22872 5.51517 5.10984 5.51517 6.08708C5.51517 7.08034 5.74601 7.97547 6.20768 8.77249C6.66936 9.5695 7.27869 10.2023 8.03567 10.6709C8.79265 11.1395 9.61619 11.3738 10.5063 11.3738Z"
                    />
                </svg>

                {{ $t("header.links.accounts") }}
            </Link>
            <Link
                :href="route('workers')"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    'burger_link-active': $page.url === '/profile/workers',
                }"
                v-if="this.viewportWidth < 767.98 && is_auth"
                class="nav-tabs__tab"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M15 17.5C14.8022 17.5 14.6089 17.5586 14.4444 17.6685C14.28 17.7784 14.1518 17.9346 14.0761 18.1173C14.0004 18.3 13.9806 18.5011 14.0192 18.6951C14.0578 18.8891 14.153 19.0673 14.2929 19.2071C14.4327 19.347 14.6109 19.4422 14.8049 19.4808C14.9989 19.5194 15.2 19.4996 15.3827 19.4239C15.5654 19.3482 15.7216 19.22 15.8315 19.0556C15.9414 18.8911 16 18.6978 16 18.5C16 18.2348 15.8946 17.9804 15.7071 17.7929C15.5196 17.6054 15.2652 17.5 15 17.5ZM9 17.5H6C5.73478 17.5 5.48043 17.6054 5.29289 17.7929C5.10536 17.9804 5 18.2348 5 18.5C5 18.7652 5.10536 19.0196 5.29289 19.2071C5.48043 19.3946 5.73478 19.5 6 19.5H9C9.26522 19.5 9.51957 19.3946 9.70711 19.2071C9.89464 19.0196 10 18.7652 10 18.5C10 18.2348 9.89464 17.9804 9.70711 17.7929C9.51957 17.6054 9.26522 17.5 9 17.5ZM18 17.5C17.8022 17.5 17.6089 17.5586 17.4444 17.6685C17.28 17.7784 17.1518 17.9346 17.0761 18.1173C17.0004 18.3 16.9806 18.5011 17.0192 18.6951C17.0578 18.8891 17.153 19.0673 17.2929 19.2071C17.4327 19.347 17.6109 19.4422 17.8049 19.4808C17.9989 19.5194 18.2 19.4996 18.3827 19.4239C18.5654 19.3482 18.7216 19.22 18.8315 19.0556C18.9414 18.8911 19 18.6978 19 18.5C19 18.2348 18.8946 17.9804 18.7071 17.7929C18.5196 17.6054 18.2652 17.5 18 17.5ZM15 11.5C14.8022 11.5 14.6089 11.5586 14.4444 11.6685C14.28 11.7784 14.1518 11.9346 14.0761 12.1173C14.0004 12.3 13.9806 12.5011 14.0192 12.6951C14.0578 12.8891 14.153 13.0673 14.2929 13.2071C14.4327 13.347 14.6109 13.4422 14.8049 13.4808C14.9989 13.5194 15.2 13.4996 15.3827 13.4239C15.5654 13.3482 15.7216 13.22 15.8315 13.0556C15.9414 12.8911 16 12.6978 16 12.5C16 12.2348 15.8946 11.9804 15.7071 11.7929C15.5196 11.6054 15.2652 11.5 15 11.5ZM9 11.5H6C5.73478 11.5 5.48043 11.6054 5.29289 11.7929C5.10536 11.9804 5 12.2348 5 12.5C5 12.7652 5.10536 13.0196 5.29289 13.2071C5.48043 13.3946 5.73478 13.5 6 13.5H9C9.26522 13.5 9.51957 13.3946 9.70711 13.2071C9.89464 13.0196 10 12.7652 10 12.5C10 12.2348 9.89464 11.9804 9.70711 11.7929C9.51957 11.6054 9.26522 11.5 9 11.5ZM18 5.5C17.8022 5.5 17.6089 5.55865 17.4444 5.66853C17.28 5.77841 17.1518 5.93459 17.0761 6.11732C17.0004 6.30004 16.9806 6.50111 17.0192 6.69509C17.0578 6.88907 17.153 7.06725 17.2929 7.20711C17.4327 7.34696 17.6109 7.4422 17.8049 7.48079C17.9989 7.51937 18.2 7.49957 18.3827 7.42388C18.5654 7.34819 18.7216 7.22002 18.8315 7.05557C18.9414 6.89112 19 6.69778 19 6.5C19 6.23478 18.8946 5.98043 18.7071 5.79289C18.5196 5.60536 18.2652 5.5 18 5.5ZM18 11.5C17.8022 11.5 17.6089 11.5586 17.4444 11.6685C17.28 11.7784 17.1518 11.9346 17.0761 12.1173C17.0004 12.3 16.9806 12.5011 17.0192 12.6951C17.0578 12.8891 17.153 13.0673 17.2929 13.2071C17.4327 13.347 17.6109 13.4422 17.8049 13.4808C17.9989 13.5194 18.2 13.4996 18.3827 13.4239C18.5654 13.3482 18.7216 13.22 18.8315 13.0556C18.9414 12.8911 19 12.6978 19 12.5C19 12.2348 18.8946 11.9804 18.7071 11.7929C18.5196 11.6054 18.2652 11.5 18 11.5ZM22 5.5C22 4.70435 21.6839 3.94129 21.1213 3.37868C20.5587 2.81607 19.7956 2.5 19 2.5H5C4.20435 2.5 3.44129 2.81607 2.87868 3.37868C2.31607 3.94129 2 4.70435 2 5.5V7.5C2.00441 8.24005 2.28221 8.95236 2.78 9.5C2.28221 10.0476 2.00441 10.7599 2 11.5V13.5C2.00441 14.2401 2.28221 14.9524 2.78 15.5C2.28221 16.0476 2.00441 16.7599 2 17.5V19.5C2 20.2956 2.31607 21.0587 2.87868 21.6213C3.44129 22.1839 4.20435 22.5 5 22.5H19C19.7956 22.5 20.5587 22.1839 21.1213 21.6213C21.6839 21.0587 22 20.2956 22 19.5V17.5C21.9956 16.7599 21.7178 16.0476 21.22 15.5C21.7178 14.9524 21.9956 14.2401 22 13.5V11.5C21.9956 10.7599 21.7178 10.0476 21.22 9.5C21.7178 8.95236 21.9956 8.24005 22 7.5V5.5ZM20 19.5C20 19.7652 19.8946 20.0196 19.7071 20.2071C19.5196 20.3946 19.2652 20.5 19 20.5H5C4.73478 20.5 4.48043 20.3946 4.29289 20.2071C4.10536 20.0196 4 19.7652 4 19.5V17.5C4 17.2348 4.10536 16.9804 4.29289 16.7929C4.48043 16.6054 4.73478 16.5 5 16.5H19C19.2652 16.5 19.5196 16.6054 19.7071 16.7929C19.8946 16.9804 20 17.2348 20 17.5V19.5ZM20 13.5C20 13.7652 19.8946 14.0196 19.7071 14.2071C19.5196 14.3946 19.2652 14.5 19 14.5H5C4.73478 14.5 4.48043 14.3946 4.29289 14.2071C4.10536 14.0196 4 13.7652 4 13.5V11.5C4 11.2348 4.10536 10.9804 4.29289 10.7929C4.48043 10.6054 4.73478 10.5 5 10.5H19C19.2652 10.5 19.5196 10.6054 19.7071 10.7929C19.8946 10.9804 20 11.2348 20 11.5V13.5ZM20 7.5C20 7.76522 19.8946 8.01957 19.7071 8.20711C19.5196 8.39464 19.2652 8.5 19 8.5H5C4.73478 8.5 4.48043 8.39464 4.29289 8.20711C4.10536 8.01957 4 7.76522 4 7.5V5.5C4 5.23478 4.10536 4.98043 4.29289 4.79289C4.48043 4.60536 4.73478 4.5 5 4.5H19C19.2652 4.5 19.5196 4.60536 19.7071 4.79289C19.8946 4.98043 20 5.23478 20 5.5V7.5ZM15 5.5C14.8022 5.5 14.6089 5.55865 14.4444 5.66853C14.28 5.77841 14.1518 5.93459 14.0761 6.11732C14.0004 6.30004 13.9806 6.50111 14.0192 6.69509C14.0578 6.88907 14.153 7.06725 14.2929 7.20711C14.4327 7.34696 14.6109 7.4422 14.8049 7.48079C14.9989 7.51937 15.2 7.49957 15.3827 7.42388C15.5654 7.34819 15.7216 7.22002 15.8315 7.05557C15.9414 6.89112 16 6.69778 16 6.5C16 6.23478 15.8946 5.98043 15.7071 5.79289C15.5196 5.60536 15.2652 5.5 15 5.5ZM9 5.5H6C5.73478 5.5 5.48043 5.60536 5.29289 5.79289C5.10536 5.98043 5 6.23478 5 6.5C5 6.76522 5.10536 7.01957 5.29289 7.20711C5.48043 7.39464 5.73478 7.5 6 7.5H9C9.26522 7.5 9.51957 7.39464 9.70711 7.20711C9.89464 7.01957 10 6.76522 10 6.5C10 6.23478 9.89464 5.98043 9.70711 5.79289C9.51957 5.60536 9.26522 5.5 9 5.5Z"
                    />
                </svg>

                {{ $t("header.links.workers") }}
            </Link>
            <Link
                :href="route('income')"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    'burger_link-active': $page.url === '/profile/income',
                }"
                v-if="this.viewportWidth < 767.98 && is_auth"
                class="nav-tabs__tab"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M12 12.5C11.4067 12.5 10.8266 12.6759 10.3333 13.0056C9.83994 13.3352 9.45542 13.8038 9.22836 14.3519C9.0013 14.9001 8.94189 15.5033 9.05764 16.0853C9.1734 16.6672 9.45912 17.2018 9.87868 17.6213C10.2982 18.0409 10.8328 18.3266 11.4147 18.4424C11.9967 18.5581 12.5999 18.4987 13.1481 18.2716C13.6962 18.0446 14.1648 17.6601 14.4944 17.1667C14.8241 16.6734 15 16.0933 15 15.5C15 14.7044 14.6839 13.9413 14.1213 13.3787C13.5587 12.8161 12.7956 12.5 12 12.5ZM12 16.5C11.8022 16.5 11.6089 16.4414 11.4444 16.3315C11.28 16.2216 11.1518 16.0654 11.0761 15.8827C11.0004 15.7 10.9806 15.4989 11.0192 15.3049C11.0578 15.1109 11.153 14.9327 11.2929 14.7929C11.4327 14.653 11.6109 14.5578 11.8049 14.5192C11.9989 14.4806 12.2 14.5004 12.3827 14.5761C12.5654 14.6518 12.7216 14.78 12.8315 14.9444C12.9414 15.1089 13 15.3022 13 15.5C13 15.7652 12.8946 16.0196 12.7071 16.2071C12.5196 16.3946 12.2652 16.5 12 16.5ZM11.29 10.21C11.3851 10.301 11.4972 10.3724 11.62 10.42C11.7397 10.4729 11.8691 10.5002 12 10.5002C12.1309 10.5002 12.2603 10.4729 12.38 10.42C12.5028 10.3724 12.6149 10.301 12.71 10.21L15 7.96C15.1936 7.76639 15.3024 7.5038 15.3024 7.23C15.3024 6.9562 15.1936 6.69361 15 6.5C14.8064 6.30639 14.5438 6.19762 14.27 6.19762C13.9962 6.19762 13.7336 6.30639 13.54 6.5L13 7.09V3.5C13 3.23478 12.8946 2.98043 12.7071 2.79289C12.5196 2.60536 12.2652 2.5 12 2.5C11.7348 2.5 11.4804 2.60536 11.2929 2.79289C11.1054 2.98043 11 3.23478 11 3.5V7.09L10.46 6.5C10.2664 6.30639 10.0038 6.19762 9.73 6.19762C9.4562 6.19762 9.19361 6.30639 9 6.5C8.80639 6.69361 8.69762 6.9562 8.69762 7.23C8.69762 7.5038 8.80639 7.76639 9 7.96L11.29 10.21ZM19 15.5C19 15.3022 18.9414 15.1089 18.8315 14.9444C18.7216 14.78 18.5654 14.6518 18.3827 14.5761C18.2 14.5004 17.9989 14.4806 17.8049 14.5192C17.6109 14.5578 17.4327 14.653 17.2929 14.7929C17.153 14.9327 17.0578 15.1109 17.0192 15.3049C16.9806 15.4989 17.0004 15.7 17.0761 15.8827C17.1518 16.0654 17.28 16.2216 17.4444 16.3315C17.6089 16.4414 17.8022 16.5 18 16.5C18.2652 16.5 18.5196 16.3946 18.7071 16.2071C18.8946 16.0196 19 15.7652 19 15.5ZM20 8.5H17C16.7348 8.5 16.4804 8.60536 16.2929 8.79289C16.1054 8.98043 16 9.23478 16 9.5C16 9.76522 16.1054 10.0196 16.2929 10.2071C16.4804 10.3946 16.7348 10.5 17 10.5H20C20.2652 10.5 20.5196 10.6054 20.7071 10.7929C20.8946 10.9804 21 11.2348 21 11.5V19.5C21 19.7652 20.8946 20.0196 20.7071 20.2071C20.5196 20.3946 20.2652 20.5 20 20.5H4C3.73478 20.5 3.48043 20.3946 3.29289 20.2071C3.10536 20.0196 3 19.7652 3 19.5V11.5C3 11.2348 3.10536 10.9804 3.29289 10.7929C3.48043 10.6054 3.73478 10.5 4 10.5H7C7.26522 10.5 7.51957 10.3946 7.70711 10.2071C7.89464 10.0196 8 9.76522 8 9.5C8 9.23478 7.89464 8.98043 7.70711 8.79289C7.51957 8.60536 7.26522 8.5 7 8.5H4C3.20435 8.5 2.44129 8.81607 1.87868 9.37868C1.31607 9.94129 1 10.7044 1 11.5V19.5C1 20.2956 1.31607 21.0587 1.87868 21.6213C2.44129 22.1839 3.20435 22.5 4 22.5H20C20.7956 22.5 21.5587 22.1839 22.1213 21.6213C22.6839 21.0587 23 20.2956 23 19.5V11.5C23 10.7044 22.6839 9.94129 22.1213 9.37868C21.5587 8.81607 20.7956 8.5 20 8.5ZM5 15.5C5 15.6978 5.05865 15.8911 5.16853 16.0556C5.27841 16.22 5.43459 16.3482 5.61732 16.4239C5.80004 16.4996 6.00111 16.5194 6.19509 16.4808C6.38907 16.4422 6.56725 16.347 6.70711 16.2071C6.84696 16.0673 6.9422 15.8891 6.98079 15.6951C7.01937 15.5011 6.99957 15.3 6.92388 15.1173C6.84819 14.9346 6.72002 14.7784 6.55557 14.6685C6.39112 14.5586 6.19778 14.5 6 14.5C5.73478 14.5 5.48043 14.6054 5.29289 14.7929C5.10536 14.9804 5 15.2348 5 15.5Z"
                    />
                </svg>

                {{ $t("header.links.income") }}
            </Link>
            <Link
                :href="route('connecting')"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    'burger_link-active': $page.url === '/profile/connecting',
                }"
                v-if="this.viewportWidth < 767.98 && is_auth"
                class="nav-tabs__tab"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M17 22.5H5C4.20435 22.5 3.44129 22.1839 2.87868 21.6213C2.31607 21.0587 2 20.2956 2 19.5V9.49997C2 8.70432 2.31607 7.94125 2.87868 7.37864C3.44129 6.81604 4.20435 6.49997 5 6.49997H6C6.01682 5.6526 6.30235 4.83248 6.81541 4.15789C7.32848 3.48331 8.04255 2.98911 8.85464 2.7466C9.66673 2.50408 10.5349 2.52578 11.3338 2.80856C12.1328 3.09134 12.8213 3.62059 13.3 4.31997C13.7484 4.95911 13.9925 5.71923 14 6.49997H17C17.2652 6.49997 17.5196 6.60532 17.7071 6.79286C17.8946 6.98039 18 7.23475 18 7.49997V10.5C18.8474 10.5168 19.6675 10.8023 20.3421 11.3154C21.0167 11.8284 21.5109 12.5425 21.7534 13.3546C21.9959 14.1667 21.9742 15.0348 21.6914 15.8338C21.4086 16.6328 20.8794 17.3212 20.18 17.8C19.5409 18.2484 18.7807 18.4925 18 18.5V21.5C18 21.7652 17.8946 22.0195 17.7071 22.2071C17.5196 22.3946 17.2652 22.5 17 22.5ZM5 8.49997C4.73478 8.49997 4.48043 8.60532 4.29289 8.79286C4.10536 8.98039 4 9.23475 4 9.49997V19.5C4 19.7652 4.10536 20.0195 4.29289 20.2071C4.48043 20.3946 4.73478 20.5 5 20.5H16V17.32C15.9991 17.1596 16.0368 17.0014 16.1099 16.8587C16.183 16.716 16.2894 16.593 16.42 16.5C16.5502 16.4071 16.7008 16.3468 16.8592 16.3242C17.0175 16.3016 17.179 16.3173 17.33 16.37C17.615 16.4862 17.9254 16.5262 18.2305 16.4858C18.5357 16.4455 18.825 16.3263 19.07 16.14C19.3139 15.9913 19.523 15.792 19.6834 15.5557C19.8439 15.3194 19.9518 15.0515 20 14.77C20.0386 14.486 20.0157 14.1971 19.9329 13.9228C19.85 13.6485 19.7092 13.3951 19.52 13.18C19.2641 12.8691 18.9155 12.6481 18.5252 12.5491C18.1349 12.4502 17.7231 12.4785 17.35 12.63C17.199 12.6827 17.0375 12.6983 16.8792 12.6757C16.7208 12.6531 16.5702 12.5928 16.44 12.5C16.3094 12.407 16.203 12.2839 16.1299 12.1412C16.0568 11.9985 16.0191 11.8403 16.02 11.68V8.49997H12.82C12.6557 8.50928 12.4915 8.47788 12.3422 8.40855C12.1929 8.33922 12.0631 8.2341 11.9641 8.10253C11.8652 7.97096 11.8003 7.817 11.7752 7.65432C11.75 7.49164 11.7654 7.32526 11.82 7.16997C11.9363 6.88497 11.9762 6.57459 11.9359 6.26945C11.8955 5.96431 11.7673 5.67496 11.59 5.42997C11.4424 5.17913 11.2402 4.96473 10.9984 4.80266C10.7566 4.64058 10.4815 4.53499 10.1934 4.49369C9.90527 4.45239 9.61155 4.47645 9.33399 4.56409C9.05644 4.65173 8.80216 4.8007 8.59 4.99997C8.39298 5.19538 8.23877 5.42966 8.1372 5.6879C8.03562 5.94614 7.9889 6.22269 8 6.49997C8.00232 6.72934 8.04637 6.95637 8.13 7.16997C8.18287 7.32118 8.19863 7.48289 8.17597 7.64147C8.1533 7.80005 8.09287 7.95087 7.99976 8.08122C7.90665 8.21158 7.78358 8.31765 7.64093 8.39053C7.49827 8.4634 7.34019 8.50093 7.18 8.49997H5Z"
                    />
                </svg>

                {{ $t("header.links.connection") }}
            </Link>
            <Link
                class="nav-tabs__tab"
                :href="route('wallets')"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    'burger_link-active': $page.url === '/profile/wallets',
                }"
                v-if="this.viewportWidth < 767.98 && is_auth"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M19 7.5H18V6.5C18 5.70435 17.6839 4.94129 17.1213 4.37868C16.5587 3.81607 15.7956 3.5 15 3.5H5C4.20435 3.5 3.44129 3.81607 2.87868 4.37868C2.31607 4.94129 2 5.70435 2 6.5V18.5C2 19.2956 2.31607 20.0587 2.87868 20.6213C3.44129 21.1839 4.20435 21.5 5 21.5H19C19.7956 21.5 20.5587 21.1839 21.1213 20.6213C21.6839 20.0587 22 19.2956 22 18.5V10.5C22 9.70435 21.6839 8.94129 21.1213 8.37868C20.5587 7.81607 19.7956 7.5 19 7.5ZM5 5.5H15C15.2652 5.5 15.5196 5.60536 15.7071 5.79289C15.8946 5.98043 16 6.23478 16 6.5V7.5H5C4.73478 7.5 4.48043 7.39464 4.29289 7.20711C4.10536 7.01957 4 6.76522 4 6.5C4 6.23478 4.10536 5.98043 4.29289 5.79289C4.48043 5.60536 4.73478 5.5 5 5.5ZM20 15.5H19C18.7348 15.5 18.4804 15.3946 18.2929 15.2071C18.1054 15.0196 18 14.7652 18 14.5C18 14.2348 18.1054 13.9804 18.2929 13.7929C18.4804 13.6054 18.7348 13.5 19 13.5H20V15.5ZM20 11.5H19C18.2044 11.5 17.4413 11.8161 16.8787 12.3787C16.3161 12.9413 16 13.7044 16 14.5C16 15.2956 16.3161 16.0587 16.8787 16.6213C17.4413 17.1839 18.2044 17.5 19 17.5H20V18.5C20 18.7652 19.8946 19.0196 19.7071 19.2071C19.5196 19.3946 19.2652 19.5 19 19.5H5C4.73478 19.5 4.48043 19.3946 4.29289 19.2071C4.10536 19.0196 4 18.7652 4 18.5V9.33C4.32127 9.44302 4.65943 9.50051 5 9.5H19C19.2652 9.5 19.5196 9.60536 19.7071 9.79289C19.8946 9.98043 20 10.2348 20 10.5V11.5Z"
                    />
                </svg>

                {{ $t("header.links.wallets") }}
            </Link>
            <Link
                v-if="!is_auth || $page.url.startsWith('/profile')"
                :href="route('home')"
                class="nav__link"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    active: $page.url === '/',
                }"
            >
                <svg
                    v-if="this.viewportWidth < 767.98"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M9.64912 3.30873C9.84329 3.11942 10.153 3.11942 10.3472 3.30873L13.2265 6.11588L15.5001 8.3324V16.3327C15.5001 16.6088 15.2763 16.8327 15.0001 16.8327H12.7785C12.5024 16.8327 12.2785 16.6088 12.2785 16.3327V14.4527C12.2785 13.3482 11.383 12.4527 10.2785 12.4527H9.71862C8.61404 12.4527 7.71858 13.3482 7.71858 14.4527V16.3327C7.71858 16.6088 7.49472 16.8327 7.21858 16.8327H5.00012C4.72398 16.8327 4.50012 16.6088 4.50012 16.3327V8.32857L9.64912 3.30873ZM3.00012 9.79091L2.10692 10.6617C1.81034 10.9509 1.3355 10.9448 1.04635 10.6482C0.757202 10.3517 0.763233 9.87683 1.05982 9.58766L8.60204 2.23469C9.37879 1.47744 10.6175 1.47743 11.3943 2.23469L13.0001 3.80023V2.898C13.0001 2.48379 13.3359 2.148 13.7501 2.148C14.1644 2.148 14.5001 2.48379 14.5001 2.898V5.2626L18.9365 9.58766C19.2331 9.87683 19.2391 10.3517 18.95 10.6482C18.6608 10.9448 18.186 10.9509 17.8894 10.6617L17.0001 9.79475V16.3327C17.0001 17.4372 16.1047 18.3327 15.0001 18.3327H12.7785C11.674 18.3327 10.7785 17.4372 10.7785 16.3327V14.4527C10.7785 14.1766 10.5546 13.9527 10.2785 13.9527H9.71862C9.44246 13.9527 9.21862 14.1766 9.21862 14.4527V16.3327C9.21862 17.4372 8.32316 18.3327 7.21858 18.3327H5.00012C3.89555 18.3327 3.00012 17.4372 3.00012 16.3327V9.79091Z"
                        fill="black"
                    />
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M9.64912 3.30873C9.84329 3.11942 10.153 3.11942 10.3472 3.30873L13.2265 6.11588L15.5001 8.3324V16.3327C15.5001 16.6088 15.2763 16.8327 15.0001 16.8327H12.7785C12.5024 16.8327 12.2785 16.6088 12.2785 16.3327V14.4527C12.2785 13.3482 11.383 12.4527 10.2785 12.4527H9.71862C8.61404 12.4527 7.71858 13.3482 7.71858 14.4527V16.3327C7.71858 16.6088 7.49472 16.8327 7.21858 16.8327H5.00012C4.72398 16.8327 4.50012 16.6088 4.50012 16.3327V8.32857L9.64912 3.30873ZM3.00012 9.79091L2.10692 10.6617C1.81034 10.9509 1.3355 10.9448 1.04635 10.6482C0.757202 10.3517 0.763233 9.87683 1.05982 9.58766L8.60204 2.23469C9.37879 1.47744 10.6175 1.47743 11.3943 2.23469L13.0001 3.80023V2.898C13.0001 2.48379 13.3359 2.148 13.7501 2.148C14.1644 2.148 14.5001 2.48379 14.5001 2.898V5.2626L18.9365 9.58766C19.2331 9.87683 19.2391 10.3517 18.95 10.6482C18.6608 10.9448 18.186 10.9509 17.8894 10.6617L17.0001 9.79475V16.3327C17.0001 17.4372 16.1047 18.3327 15.0001 18.3327H12.7785C11.674 18.3327 10.7785 17.4372 10.7785 16.3327V14.4527C10.7785 14.1766 10.5546 13.9527 10.2785 13.9527H9.71862C9.44246 13.9527 9.21862 14.1766 9.21862 14.4527V16.3327C9.21862 17.4372 8.32316 18.3327 7.21858 18.3327H5.00012C3.89555 18.3327 3.00012 17.4372 3.00012 16.3327V9.79091Z"
                        fill="url(#paint0_linear_1244_17328)"
                    />
                    <defs>
                        <linearGradient
                            id="paint0_linear_1244_17328"
                            x1="3.68582"
                            y1="27.9402"
                            x2="20.3003"
                            y2="26.0655"
                            gradientUnits="userSpaceOnUse"
                        >
                            <stop stop-color="#3F7BDD" />
                            <stop offset="1" stop-color="#4282EC" />
                        </linearGradient>
                    </defs>
                </svg>

                {{ $t("header.links.home") }}
            </Link>
            <Link
                v-else-if="this.viewportWidth > 767.98"
                :href="route('statistic')"
                class="nav__link"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    active: $page.url.startsWith('/profile'),
                }"
            >
                {{ $t("header.links.own_cabinet") }}
            </Link>
            <Link
                :href="route('complexity')"
                class="nav__link"
                :class="{
                    burger_link: this.viewportWidth < 767.98,
                    active: $page.url.startsWith('/complexity'),
                }"
            >
                <svg
                    v-if="this.viewportWidth < 767.98"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <g clip-path="url(#clip0_1241_17163)">
                        <path
                            d="M3.32314 15.8711L1.98899 14.7113L7.78779 8.04058L11.334 11.16L16.7547 4.12386L18.0053 5.21095L11.5084 13.6539L7.96218 10.5345L3.32314 15.8711Z"
                            fill="#417FE5"
                        />
                    </g>
                    <defs>
                        <clipPath id="clip0_1241_17163">
                            <rect width="20" height="20" fill="white" />
                        </clipPath>
                    </defs>
                </svg>

                {{ $t("header.links.complexity") }}
            </Link>
            <!--            <Link-->
            <!--                :href="route('help')"-->
            <!--                class="nav__link"-->
            <!--                :class="{ active: $page.url === '/help' }"-->
            <!--            >-->
            <!--                FAQ-->
            <!--            </Link>-->
            <!--            <Link-->
            <!--                :href="route('about')"-->
            <!--                class="nav__link"-->
            <!--                :class="{ active: $page.url === '/about' }"-->
            <!--            >-->
            <!--                О нас-->
            <!--            </Link>-->
        </div>
        <teleport to="body">
            <div
                @click="close"
                class="nav__menu"
                :class="{ opened: is_opened }"
            >
                <teleport to="body">
                    <div class="nav__menu_wrap" :class="{ opened: is_opened }">
                        <div
                            class="nav__menu_item nav__menu_item-acc"
                            v-for="acc in this.allAccounts"
                            :key="acc.id"
                            @click="change_index(acc.id)"
                            :class="{
                                active: acc.id === this.getActive,
                            }"
                        >
                            {{ acc.name }}
                            <transition name="fade">
                                <svg
                                    v-if="acc.id !== this.getActive"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 20 20"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        d="M9.96094 19.9658C11.3216 19.9658 12.6026 19.7054 13.8037 19.1846C15.0049 18.6637 16.0645 17.9443 16.9824 17.0264C17.9004 16.1084 18.6198 15.0488 19.1406 13.8477C19.6615 12.6465 19.9219 11.3655 19.9219 10.0049C19.9219 8.64421 19.6615 7.36328 19.1406 6.16211C18.6198 4.96094 17.9004 3.90137 16.9824 2.9834C16.0645 2.06543 15.0033 1.34603 13.7988 0.825196C12.5944 0.304362 11.3119 0.0439453 9.95117 0.0439453C8.5905 0.0439453 7.30957 0.304362 6.1084 0.825196C4.90723 1.34603 3.84928 2.06543 2.93457 2.9834C2.01986 3.90137 1.30208 4.96094 0.78125 6.16211C0.260417 7.36328 0 8.64421 0 10.0049C0 11.3655 0.260417 12.6465 0.78125 13.8477C1.30208 15.0488 2.02148 16.1084 2.93945 17.0264C3.85742 17.9443 4.91699 18.6637 6.11816 19.1846C7.31933 19.7054 8.60026 19.9658 9.96094 19.9658Z"
                                        fill="#EAEEF4"
                                    />
                                    <path
                                        d="M4.95117 14.3506C4.81445 14.35e06 4.6875 14.2903 4.57031 14.1699C4.45312 14.0495 4.39453 13.8721 4.39453 13.6377C4.39453 12.3031 4.58984 11.1507 4.98047 10.1807C5.3711 9.21062 5.97819 8.46354 6.80176 7.93945C7.62533 7.41536 8.6849 7.15332 9.98047 7.15332H10.1367V5.09277C10.1367 4.91699 10.1969 4.76399 10.3174 4.63379C10.4378 4.50358 10.5924 4.43848 10.7812 4.43848C10.9179 4.43848 11.0368 4.4694 11.1377 4.53125C11.2386 4.59309 11.3607 4.68912 11.5039 4.81934L15.7812 8.81348C15.8919 8.91113 15.9668 9.00879 16.0059 9.10645C16.045 9.2041 16.0645 9.30175 16.0645 9.39941C16.0645 9.49055 16.0433 9.58496 16.001 9.68262C15.9587 9.78027 15.8854 9.87793 15.7812 9.97559L11.5039 13.999C11.3802 14.1162 11.2614 14.2041 11.1475 14.2627C11.0336 14.3213 10.9082 14.3506 10.7715 14.3506C10.5892 14.3506 10.4378 14.2903 10.3174 14.1699C10.1969 14.0495 10.1367 13.9014 10.1367 13.7256V11.6553H9.98047C8.93229 11.6553 8.06152 11.818 7.36816 12.1436C6.6748 12.4691 6.09049 13.0713 5.61523 13.9502C5.5306 14.126 5.42806 14.2366 5.30762 14.2822C5.18717 14.3278 5.06836 14.3506 4.95117 14.3506Z"
                                        fill="white"
                                    />
                                </svg>
                            </transition>
                        </div>
                        <Link
                            class="nav__menu_item nav__menu_item-add"
                            :href="route('accounts')"
                            @click="popup_open"
                        >
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <g clip-path="url(#clip0_1263_17511)">
                                    <path
                                        d="M12.8 11.2H16V12.8H12.8V16H11.2V12.8H8V11.2H11.2V8H12.8V11.2ZM12 20C7.5816 20 4 16.4184 4 12C4 7.5816 7.5816 4 12 4C16.4184 4 20 7.5816 20 12C20 16.4184 16.4184 20 12 20ZM12 18.4C15.5344 18.4 18.4 15.5344 18.4 12C18.4 8.4656 15.5344 5.6 12 5.6C8.4656 5.6 5.6 8.4656 5.6 12C5.6 15.5344 8.4656 18.4 12 18.4Z"
                                        fill="#000034"
                                    />
                                </g>
                                <defs>
                                    <clipPath id="clip0_1263_17511">
                                        <rect
                                            width="16"
                                            height="16"
                                            fill="white"
                                            transform="translate(4 4)"
                                        />
                                    </clipPath>
                                </defs>
                            </svg>
                            Добавить субаккаунт
                        </Link>
                        <a
                            class="nav__menu_item nav__menu_item-logout"
                            @click="logout"
                        >
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <g clip-path="url(#clip0_1263_17503)">
                                    <path
                                        d="M4.51031 19.4951C4.62749 19.6058 4.76096 19.6806 4.9107 19.7197C5.06044 19.7588 5.21018 19.7588 5.35992 19.7197C5.50966 19.6806 5.63986 19.6058 5.75054 19.4951L12.0005 13.2451L18.2505 19.4951C18.3612 19.6058 18.4914 19.6806 18.6411 19.7197C18.7909 19.7588 18.9422 19.7604 19.0952 19.7246C19.2482 19.6888 19.3801 19.6123 19.4907 19.4951C19.6015 19.3844 19.6747 19.2542 19.7105 19.1045C19.7463 18.9548 19.7463 18.805 19.7105 18.6553C19.6747 18.5056 19.6015 18.3753 19.4907 18.2646L13.2408 12.0049L19.4907 5.75488C19.6015 5.6442 19.6764 5.514 19.7154 5.36426C19.7545 5.21452 19.7545 5.06478 19.7154 4.91504C19.6764 4.7653 19.6015 4.63509 19.4907 4.52441C19.3736 4.40723 19.2402 4.33073 19.0904 4.29492C18.9406 4.25911 18.7909 4.25911 18.6411 4.29492C18.4914 4.33073 18.3612 4.40723 18.2505 4.52441L12.0005 10.7744L5.75054 4.52441C5.63986 4.40723 5.50803 4.33073 5.35504 4.29492C5.20204 4.25911 5.05067 4.25911 4.90093 4.29492C4.75119 4.33073 4.62098 4.40723 4.51031 4.52441C4.39963 4.63509 4.32639 4.7653 4.29058 4.91504C4.25477 5.06478 4.25477 5.21452 4.29058 5.36426C4.32639 5.514 4.39963 5.6442 4.51031 5.75488L10.7603 12.0049L4.51031 18.2646C4.39963 18.3753 4.32476 18.5056 4.2857 18.6553C4.24664 18.805 4.24501 18.9548 4.28081 19.1045C4.31662 19.2542 4.39312 19.3844 4.51031 19.4951Z"
                                        fill="#FF3B30"
                                    />
                                </g>
                                <defs>
                                    <clipPath id="clip0_1263_17503">
                                        <rect
                                            width="15.4896"
                                            height="15.5006"
                                            fill="white"
                                            transform="translate(4.25513 4.24976)"
                                        />
                                    </clipPath>
                                </defs>
                            </svg>
                            Выйти
                        </a>
                    </div>
                </teleport>
            </div>
        </teleport>
    </div>
</template>

<script>
import { Link } from "@inertiajs/vue3";
import BlueButton from "@/Components/UI/BlueButton.vue";
import AccountMenu from "@/Components/UI/AccountMenu.vue";
import { mapGetters } from "vuex";
import MainList from "@/Components/UI/MainList.vue";
import { Inertia } from "@inertiajs/inertia";

export default {
    components: {
        MainList,
        BlueButton,
        AccountMenu,
        Link,
    },
    props: {
        viewportWidth: Number,
        is_auth: {
            type: Boolean,
            default: false,
        },
    },
    data() {
        return {
            is_opened: false,
        };
    },
    methods: {
        openPopup(type) {
            this.$emit("auth", type);
        },
        popup_open() {
            setTimeout(() => {
                document.querySelector(`[data-popup='#addAcc']`).click();
            }, 300);
            this.close();
        },
        close() {
            this.is_opened = false;
        },
        open() {
            this.is_opened = true;
        },
        change_index(data) {
            this.$store.commit("updateActive", data);
        },
        async logout() {
            await Inertia.post("/logout");
        },
        closeBurger() {
            this.$emit("clicked", null);
        },
    },
    computed: {
        ...mapGetters(["getIncome", "allAccounts", "getActive"]),
        name() {
            let name = "...";
            if (this.allAccounts[this.getActive]) {
                name = this.allAccounts[this.getActive].name;
            }
            return name;
        },
        earnSum() {
            let sum = 0;
            if (Object.values(this.getIncome).length > 0) {
                Object.values(this.getIncome).forEach((el) => {
                    sum += Number(el.accruals);
                });
            }
            return sum.toFixed(8);
        },
    },
};
</script>

<style lang="scss">
.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.5s ease;
}
.fade-enter-from,
.fade-leave-to {
    opacity: 0;
}
.nav__links {
    display: flex;
    width: 100%;
    gap: 100px;
    @media (max-width: 991.98px) {
        justify-content: space-between;
        gap: 10px;
    }
    @media (max-width: 767.98px) {
        flex-direction: column;
        gap: 0;
        margin: 0 14px 80px;
        border-radius: 12px;
        overflow: hidden;
        width: calc(100% - 14px * 2);
    }
    @media (max-width: 469.98px) {
        margin: 0 0 80px;
        padding: 0 0 80px;
        width: 100%;
    }

    &_con {
        width: 100%;
        @media (max-width: 767.98px) {
            position: absolute;
            background: #e8ecf3;
            overflow: scroll;
            width: 100vw;
            height: 100vh;
            top: 0;
            right: -100vw;
            bottom: 0;
            z-index: 101;
        }
        transition: all 0.5s ease 0s;

        &.open {
            right: 0;
        }
    }
}

.nav {
    &__row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 60px;
        padding: 20px;
        .settings {
            width: 24px;
            height: 24px;
            svg {
                stroke: #417fe5;
                width: 24px;
                height: 24px;
            }
        }
        .login_link {
            font-weight: 500;
            font-size: 21px;
            line-height: 143.1%;
            color: #000034;
            gap: 4px;
            display: inline-flex;
            align-items: center;
            svg {
                width: 20px;
                height: 20px;
            }
        }
    }
    &__column {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 6px 6px 14px;
        .nav_block {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .blue-button {
            &.light {
                margin-bottom: 10px;
                .all-link {
                    background: #c2d5f2;
                    color: rgba(0, 0, 52, 0.75);
                }
            }
            height: 22px;
            max-width: 150px;
            min-height: 32px;
            border-radius: 13px;
            width: 100%;
            background: transparent;
            &:before {
                border-radius: 13px;
                background: transparent;
            }
            .all-link {
                border-radius: 13px;
                font-weight: 500;
                font-size: 16px;
                line-height: 143.1%;
                text-align: center;
                color: #ffffff;
                background: #4182ec;
            }
        }
    }
    &_subtitle {
        font-weight: 400;
        font-size: 14px;
        line-height: 16px;
        color: #818c99;
    }
    &_value {
        font-weight: 500;
        font-size: 21px;
        line-height: 26px;
        color: #000034;
    }
    &_title {
        font-weight: 500;
        font-size: 16px;
        line-height: 132.6%;
        text-align: center;
        color: #000000;
        @media (max-width: 479.98px) {
            max-width: 282px;
        }
    }
    &_text {
        font-weight: 400;
        font-size: 14px;
        line-height: 143.1%;
        text-align: center;
        color: #000000;
    }
    &__menu {
        position: fixed;
        transition: all 0.8s ease 0s;
        background: transparent;
        visibility: hidden;
        opacity: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        top: 0;
        z-index: 300;
        &_wrap {
            position: fixed;
            bottom: -100%;
            left: 50%;
            transform: translateX(-50%);
            background: #ffffff;
            border-radius: 21px;
            width: calc(100% - 20px);
            max-height: 50vh;
            height: fit-content;
            z-index: 350;
            padding: 10px;
            display: flex;
            flex-direction: column;
            transition: all 0.8s ease 0s;
            &.opened {
                bottom: 10px;
            }
        }
        &.opened {
            background: #000;
            visibility: visible;
            opacity: 0.65;
            .nav__menu_wrap {
                bottom: 60px;
            }
        }
        &_item {
            height: 48px;
            font-weight: 400;
            font-size: 17px;
            line-height: 143.1%;
            color: #000034;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: transparent;
            transition: all 0.5s ease 0s;
            padding: 2px 10px;

            &-acc {
                &.active {
                    background: rgba(234, 238, 244, 0.4);
                }
            }
            &-logout {
                color: #ff3b30;
            }
            &:first-child {
                border-radius: 8px 8px 0px 0px;
            }
            &:not(:last-child) {
                border-bottom: 0.5px solid #d7d8d9;
            }
        }
    }
}

.nav__link {
    font-style: normal;
    font-weight: 400;
    font-size: 17px;
    line-height: 143.1%;
    color: #000000;
    display: flex;
    gap: 16px;
    align-items: center;
    white-space: nowrap;

    &.active {
        @media (max-width: 767.98px) {
            color: #000;
            background: rgba(211, 229, 255, 0.8);
        }
        color: #4182ec;

        &::before {
            background: rgba(65, 130, 236, 0.52);
        }
    }

    &.non-before {
        &::before {
            display: none;
        }
    }
}
.button {
    width: 100%;
}
.burger_link {
    @media (max-width: 767.98px) {
        gap: 16px;
        font-weight: 500;
        font-size: 18px;
        line-height: 132.6%;
        color: #000000;
        height: 52px;
        padding: 16px;
        transition: all 0.3s ease 0s;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 0;

        &:not(:last-child) {
            border-bottom: 0.5px solid #d7d8d9;
        }
        &:hover {
            background: rgba(211, 229, 255, 0.8);
        }
        svg {
            fill: #417fe5;
            width: 24px;
            height: 24px;
        }
        &:after {
            content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.0864 7.78131C12.0864 7.6649 12.0635 7.55614 12.0175 7.45503C11.9715 7.35393 11.9057 7.26048 11.8199 7.1747L7.09011 2.592C6.92467 2.43268 6.72246 2.35303 6.48349 2.35303C6.33031 2.35303 6.18937 2.38979 6.0607 2.46332C5.93202 2.53685 5.83092 2.63642 5.75739 2.76203C5.68386 2.88765 5.64709 3.03011 5.64709 3.18942C5.64709 3.41614 5.72675 3.61528 5.88607 3.78685L10.0276 7.78131L5.88607 11.7758C5.72675 11.9474 5.6471 12.1465 5.6471 12.3733C5.6471 12.5326 5.68386 12.675 5.75739 12.8007C5.83092 12.9263 5.93202 13.0258 6.0607 13.0993C6.18937 13.1728 6.33031 13.2096 6.48349 13.2096C6.72246 13.2096 6.92467 13.1269 7.09011 12.9615L11.8199 8.38793C11.9057 8.30215 11.9715 8.20871 12.0175 8.1076C12.0635 8.0065 12.0864 7.89774 12.0864 7.78131Z' fill='%23000034' fill-opacity='0.8'/%3E%3C/svg%3E%0A");
            width: 16px;
            height: 16px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: auto;
            opacity: 1;
            transition: all 0.3s ease 0s;
        }
        &::before {
            display: none;
        }
        &-active {
            background: rgba(255, 255, 255, 0.8);
            &:after {
                opacity: 0;
            }
        }
    }
}
.nav__burger {
    background: transparent;
    width: 14px;
    height: 14px;
    gap: 4px;

    &:active {
        box-shadow: inset 0 4px 4px rgba(0, 0, 0, 0.25);
    }

    &_con {
        margin: 0 auto;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 4px;
        width: 18px;
        overflow: hidden;
    }

    & span {
        display: block;
        width: 18px;
        height: 2px;
        flex: 0 0 2px;
        background-color: #4182ec;
        border-radius: 5px;
        position: relative;
        right: 0;

        &:nth-child(2) {
            &::before {
                content: "";
                position: absolute;
                width: 100%;
                height: 100%;
                background-color: #4182ec;
            }
        }
    }

    &.active {
        & span {
            &:nth-child(1) {
                right: 100%;
            }

            &:nth-child(2) {
                transform: rotate(45deg);

                &::before {
                    transform: rotate(-90deg);
                }
            }

            &:nth-child(3) {
                right: -100%;
            }
        }
    }
}
</style>
