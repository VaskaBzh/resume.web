<template>
    <div class="nav__links_con" :class="{ open: is_opened }">
        <div class="nav__header" id="burger_head" v-if="viewportWidth < 991.98">
            <account-menu
                :viewportWidth="viewportWidth"
                :is_auth="is_auth"
                @clicked="open"
                v-if="is_auth"
            ></account-menu>
            <div class="nav__column" v-show="!is_auth">
                <blue-button class="button button-md button-light">
                    <Link :href="route('login')" class="all-link">
                        {{ $t("header.login.buttons.login") }}
                    </Link>
                </blue-button>
                <blue-button
                    class="button button-md button-reverce button-reverce-border"
                >
                    <Link :href="route('registration')" class="all-link">
                        {{ $t("header.login.buttons.registration") }}
                    </Link>
                </blue-button>
            </div>
        </div>
        <div class="nav__links" id="links" v-if="is_auth" @click="closeBurger">
            <main-link
                v-for="(link, i) in linksAccount"
                :link="link"
                :key="i"
                class="burger_link-account"
                :class="{
                    'burger_link-active': $page.url === link.page,
                }"
                :viewportWidth="viewportWidth"
            ></main-link>
        </div>
        <div class="nav__links" id="links" @click="closeBurger">
            <main-link
                v-for="(link, i) in linksMain"
                :link="link"
                :key="i"
                :viewportWidth="viewportWidth"
            ></main-link>
        </div>
        <div class="nav__footer" v-show="viewportWidth <= 479.98">
            <div class="nav__row">
                <select-language
                    :viewportWidth="viewportWidth"
                ></select-language>
                <select-theme :viewportWidth="viewportWidth"></select-theme>
            </div>
            <div class="quote">Â© 2023 Allbtc Pool</div>
        </div>
        <teleport to="body">
            <transition name="shadow">
                <div
                    class="shadow_container"
                    v-show="is_opened && viewportWidth <= 991.98"
                    id="shadow_container"
                    @click="closeBurger"
                ></div>
            </transition>
        </teleport>
    </div>
</template>

<script>
import { Link } from "@inertiajs/vue3";
import BlueButton from "@/Components/UI/BlueButton.vue";
import AccountMenu from "@/Components/UI/profile/AccountMenu.vue";
import { mapGetters } from "vuex";
import { Inertia } from "@inertiajs/inertia";
import MainLink from "@/Components/UI/MainLink.vue";
import SelectLanguage from "@/Components/technical/language/SelectLanguage.vue";
import SelectTheme from "@/Components/technical/theme/SelectTheme.vue";

export default {
    components: {
        BlueButton,
        AccountMenu,
        Link,
        MainLink,
        SelectLanguage,
        SelectTheme,
    },
    props: {
        viewportWidth: Number,
        is_open: Boolean,
        is_auth: {
            type: Boolean,
            default: false,
        },
    },
    data() {
        return {
            is_opened: false,
        };
    },
    watch: {
        is_open(newVal) {
            this.is_opened = newVal;
        },
    },
    methods: {
        change_index(data) {
            this.$store.commit("updateActive", data);
        },
        async logout() {
            await Inertia.post("/logout");
        },
        closeBurger() {
            this.is_opened = false;
            this.$emit("closed", this.is_opened);
        },
        key_event(e) {
            if (e.keyCode === 27) {
                this.closeBurger();
            }
        },
    },
    mounted() {
        // document.addEventListener("click", this.close);
        document.addEventListener("keydown", this.key_event);
    },
    unmounted() {
        // document.removeEventListener("click", this.close);
        document.removeEventListener("keydown", this.key_event);
    },
    computed: {
        ...mapGetters(["allAccounts", "getActive"]),
        name() {
            let name = "...";
            if (this.allAccounts[this.getActive]) {
                name = this.allAccounts[this.getActive].name;
            }
            return name;
        },
        earnSum() {
            let sum = 0;
            if (Object.values(this.getIncome).length > 0) {
                Object.values(this.getIncome).forEach((el) => {
                    sum += Number(el.accruals);
                });
            }
            return sum.toFixed(8);
        },
        linksMain() {
            return [
                {
                    link: "home",
                    page: "/",
                    name: this.$t("header.links.home"),
                },
                {
                    link: "hosting",
                    page: "/hosting",
                    name: this.$t("header.links.hosting"),
                },
                {
                    link: "help",
                    page: "/help",
                    name: "FAQ",
                },
            ];
        },
        linksAccount() {
            return [
                {
                    svg: `<svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M5 12.5C4.73478 12.5 4.48043 12.6054 4.29289 12.7929C4.10536 12.9804 4 13.2348 4 13.5V21.5C4 21.7652 4.10536 22.0196 4.29289 22.2071C4.48043 22.3946 4.73478 22.5 5 22.5C5.26522 22.5 5.51957 22.3946 5.70711 22.2071C5.89464 22.0196 6 21.7652 6 21.5V13.5C6 13.2348 5.89464 12.9804 5.70711 12.7929C5.51957 12.6054 5.26522 12.5 5 12.5ZM10 2.5C9.73478 2.5 9.48043 2.60536 9.29289 2.79289C9.10536 2.98043 9 3.23478 9 3.5V21.5C9 21.7652 9.10536 22.0196 9.29289 22.2071C9.48043 22.3946 9.73478 22.5 10 22.5C10.2652 22.5 10.5196 22.3946 10.7071 22.2071C10.8946 22.0196 11 21.7652 11 21.5V3.5C11 3.23478 10.8946 2.98043 10.7071 2.79289C10.5196 2.60536 10.2652 2.5 10 2.5ZM20 16.5C19.7348 16.5 19.4804 16.6054 19.2929 16.7929C19.1054 16.9804 19 17.2348 19 17.5V21.5C19 21.7652 19.1054 22.0196 19.2929 22.2071C19.4804 22.3946 19.7348 22.5 20 22.5C20.2652 22.5 20.5196 22.3946 20.7071 22.2071C20.8946 22.0196 21 21.7652 21 21.5V17.5C21 17.2348 20.8946 16.9804 20.7071 16.7929C20.5196 16.6054 20.2652 16.5 20 16.5ZM15 8.5C14.7348 8.5 14.4804 8.60536 14.2929 8.79289C14.1054 8.98043 14 9.23478 14 9.5V21.5C14 21.7652 14.1054 22.0196 14.2929 22.2071C14.4804 22.3946 14.7348 22.5 15 22.5C15.2652 22.5 15.5196 22.3946 15.7071 22.2071C15.8946 22.0196 16 21.7652 16 21.5V9.5C16 9.23478 15.8946 8.98043 15.7071 8.79289C15.5196 8.60536 15.2652 8.5 15 8.5Z"
                    />
                </svg>`,
                    link: "statistic",
                    page: "/profile/statistic",
                    name: this.$t("header.links.statistic"),
                },
                {
                    svg: `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.9998 10.9775C9.9915 10.9775 9.1665 10.6567 8.52484 10.015C7.88317 9.37337 7.56234 8.54837 7.56234 7.54004C7.56234 6.53171 7.88317 5.70671 8.52484 5.06504C9.1665 4.42337 9.9915 4.10254 10.9998 4.10254C12.0082 4.10254 12.8332 4.42337 13.4748 5.06504C14.1165 5.70671 14.4373 6.53171 14.4373 7.54004C14.4373 8.54837 14.1165 9.37337 13.4748 10.015C12.8332 10.6567 12.0082 10.9775 10.9998 10.9775ZM3.6665 18.3338V16.1796C3.6665 15.5991 3.81164 15.1025 4.10192 14.69C4.3922 14.2775 4.7665 13.9643 5.22484 13.7505C6.24845 13.2921 7.23005 12.9484 8.16963 12.7192C9.10921 12.49 10.0526 12.3755 10.9998 12.3755C11.9471 12.3755 12.8866 12.4939 13.8186 12.7307C14.7505 12.9675 15.7277 13.3089 16.7501 13.7549C17.2283 13.9707 17.6117 14.2837 17.9003 14.6937C18.1889 15.1038 18.3332 15.5991 18.3332 16.1796V18.3338H3.6665ZM5.0415 16.9588H16.9582V16.1796C16.9582 15.9352 16.8856 15.7022 16.7405 15.4807C16.5953 15.2591 16.4158 15.0949 16.2019 14.988C15.2241 14.5143 14.3304 14.1897 13.5207 14.014C12.7109 13.8383 11.8707 13.7505 10.9998 13.7505C10.129 13.7505 9.28109 13.8383 8.45609 14.014C7.63109 14.1897 6.73734 14.5143 5.77484 14.988C5.56095 15.0949 5.38525 15.2591 5.24775 15.4807C5.11025 15.7022 5.0415 15.9352 5.0415 16.1796V16.9588ZM10.9998 9.60254C11.5957 9.60254 12.0884 9.40775 12.478 9.01816C12.8675 8.62858 13.0623 8.13587 13.0623 7.54004C13.0623 6.94421 12.8675 6.4515 12.478 6.06191C12.0884 5.67233 11.5957 5.47754 10.9998 5.47754C10.404 5.47754 9.9113 5.67233 9.52171 6.06191C9.13213 6.4515 8.93734 6.94421 8.93734 7.54004C8.93734 8.13587 9.13213 8.62858 9.52171 9.01816C9.9113 9.40775 10.404 9.60254 10.9998 9.60254Z"/>
                       </svg>
                       `,
                    link: "accounts",
                    page: "/profile/accounts",
                    name: this.$t("header.links.accounts"),
                },
                {
                    svg: `<svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M15 17.5C14.8022 17.5 14.6089 17.5586 14.4444 17.6685C14.28 17.7784 14.1518 17.9346 14.0761 18.1173C14.0004 18.3 13.9806 18.5011 14.0192 18.6951C14.0578 18.8891 14.153 19.0673 14.2929 19.2071C14.4327 19.347 14.6109 19.4422 14.8049 19.4808C14.9989 19.5194 15.2 19.4996 15.3827 19.4239C15.5654 19.3482 15.7216 19.22 15.8315 19.0556C15.9414 18.8911 16 18.6978 16 18.5C16 18.2348 15.8946 17.9804 15.7071 17.7929C15.5196 17.6054 15.2652 17.5 15 17.5ZM9 17.5H6C5.73478 17.5 5.48043 17.6054 5.29289 17.7929C5.10536 17.9804 5 18.2348 5 18.5C5 18.7652 5.10536 19.0196 5.29289 19.2071C5.48043 19.3946 5.73478 19.5 6 19.5H9C9.26522 19.5 9.51957 19.3946 9.70711 19.2071C9.89464 19.0196 10 18.7652 10 18.5C10 18.2348 9.89464 17.9804 9.70711 17.7929C9.51957 17.6054 9.26522 17.5 9 17.5ZM18 17.5C17.8022 17.5 17.6089 17.5586 17.4444 17.6685C17.28 17.7784 17.1518 17.9346 17.0761 18.1173C17.0004 18.3 16.9806 18.5011 17.0192 18.6951C17.0578 18.8891 17.153 19.0673 17.2929 19.2071C17.4327 19.347 17.6109 19.4422 17.8049 19.4808C17.9989 19.5194 18.2 19.4996 18.3827 19.4239C18.5654 19.3482 18.7216 19.22 18.8315 19.0556C18.9414 18.8911 19 18.6978 19 18.5C19 18.2348 18.8946 17.9804 18.7071 17.7929C18.5196 17.6054 18.2652 17.5 18 17.5ZM15 11.5C14.8022 11.5 14.6089 11.5586 14.4444 11.6685C14.28 11.7784 14.1518 11.9346 14.0761 12.1173C14.0004 12.3 13.9806 12.5011 14.0192 12.6951C14.0578 12.8891 14.153 13.0673 14.2929 13.2071C14.4327 13.347 14.6109 13.4422 14.8049 13.4808C14.9989 13.5194 15.2 13.4996 15.3827 13.4239C15.5654 13.3482 15.7216 13.22 15.8315 13.0556C15.9414 12.8911 16 12.6978 16 12.5C16 12.2348 15.8946 11.9804 15.7071 11.7929C15.5196 11.6054 15.2652 11.5 15 11.5ZM9 11.5H6C5.73478 11.5 5.48043 11.6054 5.29289 11.7929C5.10536 11.9804 5 12.2348 5 12.5C5 12.7652 5.10536 13.0196 5.29289 13.2071C5.48043 13.3946 5.73478 13.5 6 13.5H9C9.26522 13.5 9.51957 13.3946 9.70711 13.2071C9.89464 13.0196 10 12.7652 10 12.5C10 12.2348 9.89464 11.9804 9.70711 11.7929C9.51957 11.6054 9.26522 11.5 9 11.5ZM18 5.5C17.8022 5.5 17.6089 5.55865 17.4444 5.66853C17.28 5.77841 17.1518 5.93459 17.0761 6.11732C17.0004 6.30004 16.9806 6.50111 17.0192 6.69509C17.0578 6.88907 17.153 7.06725 17.2929 7.20711C17.4327 7.34696 17.6109 7.4422 17.8049 7.48079C17.9989 7.51937 18.2 7.49957 18.3827 7.42388C18.5654 7.34819 18.7216 7.22002 18.8315 7.05557C18.9414 6.89112 19 6.69778 19 6.5C19 6.23478 18.8946 5.98043 18.7071 5.79289C18.5196 5.60536 18.2652 5.5 18 5.5ZM18 11.5C17.8022 11.5 17.6089 11.5586 17.4444 11.6685C17.28 11.7784 17.1518 11.9346 17.0761 12.1173C17.0004 12.3 16.9806 12.5011 17.0192 12.6951C17.0578 12.8891 17.153 13.0673 17.2929 13.2071C17.4327 13.347 17.6109 13.4422 17.8049 13.4808C17.9989 13.5194 18.2 13.4996 18.3827 13.4239C18.5654 13.3482 18.7216 13.22 18.8315 13.0556C18.9414 12.8911 19 12.6978 19 12.5C19 12.2348 18.8946 11.9804 18.7071 11.7929C18.5196 11.6054 18.2652 11.5 18 11.5ZM22 5.5C22 4.70435 21.6839 3.94129 21.1213 3.37868C20.5587 2.81607 19.7956 2.5 19 2.5H5C4.20435 2.5 3.44129 2.81607 2.87868 3.37868C2.31607 3.94129 2 4.70435 2 5.5V7.5C2.00441 8.24005 2.28221 8.95236 2.78 9.5C2.28221 10.0476 2.00441 10.7599 2 11.5V13.5C2.00441 14.2401 2.28221 14.9524 2.78 15.5C2.28221 16.0476 2.00441 16.7599 2 17.5V19.5C2 20.2956 2.31607 21.0587 2.87868 21.6213C3.44129 22.1839 4.20435 22.5 5 22.5H19C19.7956 22.5 20.5587 22.1839 21.1213 21.6213C21.6839 21.0587 22 20.2956 22 19.5V17.5C21.9956 16.7599 21.7178 16.0476 21.22 15.5C21.7178 14.9524 21.9956 14.2401 22 13.5V11.5C21.9956 10.7599 21.7178 10.0476 21.22 9.5C21.7178 8.95236 21.9956 8.24005 22 7.5V5.5ZM20 19.5C20 19.7652 19.8946 20.0196 19.7071 20.2071C19.5196 20.3946 19.2652 20.5 19 20.5H5C4.73478 20.5 4.48043 20.3946 4.29289 20.2071C4.10536 20.0196 4 19.7652 4 19.5V17.5C4 17.2348 4.10536 16.9804 4.29289 16.7929C4.48043 16.6054 4.73478 16.5 5 16.5H19C19.2652 16.5 19.5196 16.6054 19.7071 16.7929C19.8946 16.9804 20 17.2348 20 17.5V19.5ZM20 13.5C20 13.7652 19.8946 14.0196 19.7071 14.2071C19.5196 14.3946 19.2652 14.5 19 14.5H5C4.73478 14.5 4.48043 14.3946 4.29289 14.2071C4.10536 14.0196 4 13.7652 4 13.5V11.5C4 11.2348 4.10536 10.9804 4.29289 10.7929C4.48043 10.6054 4.73478 10.5 5 10.5H19C19.2652 10.5 19.5196 10.6054 19.7071 10.7929C19.8946 10.9804 20 11.2348 20 11.5V13.5ZM20 7.5C20 7.76522 19.8946 8.01957 19.7071 8.20711C19.5196 8.39464 19.2652 8.5 19 8.5H5C4.73478 8.5 4.48043 8.39464 4.29289 8.20711C4.10536 8.01957 4 7.76522 4 7.5V5.5C4 5.23478 4.10536 4.98043 4.29289 4.79289C4.48043 4.60536 4.73478 4.5 5 4.5H19C19.2652 4.5 19.5196 4.60536 19.7071 4.79289C19.8946 4.98043 20 5.23478 20 5.5V7.5ZM15 5.5C14.8022 5.5 14.6089 5.55865 14.4444 5.66853C14.28 5.77841 14.1518 5.93459 14.0761 6.11732C14.0004 6.30004 13.9806 6.50111 14.0192 6.69509C14.0578 6.88907 14.153 7.06725 14.2929 7.20711C14.4327 7.34696 14.6109 7.4422 14.8049 7.48079C14.9989 7.51937 15.2 7.49957 15.3827 7.42388C15.5654 7.34819 15.7216 7.22002 15.8315 7.05557C15.9414 6.89112 16 6.69778 16 6.5C16 6.23478 15.8946 5.98043 15.7071 5.79289C15.5196 5.60536 15.2652 5.5 15 5.5ZM9 5.5H6C5.73478 5.5 5.48043 5.60536 5.29289 5.79289C5.10536 5.98043 5 6.23478 5 6.5C5 6.76522 5.10536 7.01957 5.29289 7.20711C5.48043 7.39464 5.73478 7.5 6 7.5H9C9.26522 7.5 9.51957 7.39464 9.70711 7.20711C9.89464 7.01957 10 6.76522 10 6.5C10 6.23478 9.89464 5.98043 9.70711 5.79289C9.51957 5.60536 9.26522 5.5 9 5.5Z"
                    />
                </svg>`,
                    link: "workers",
                    page: "/profile/workers",
                    name: this.$t("header.links.workers"),
                },
                {
                    svg: `<svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M12 12.5C11.4067 12.5 10.8266 12.6759 10.3333 13.0056C9.83994 13.3352 9.45542 13.8038 9.22836 14.3519C9.0013 14.9001 8.94189 15.5033 9.05764 16.0853C9.1734 16.6672 9.45912 17.2018 9.87868 17.6213C10.2982 18.0409 10.8328 18.3266 11.4147 18.4424C11.9967 18.5581 12.5999 18.4987 13.1481 18.2716C13.6962 18.0446 14.1648 17.6601 14.4944 17.1667C14.8241 16.6734 15 16.0933 15 15.5C15 14.7044 14.6839 13.9413 14.1213 13.3787C13.5587 12.8161 12.7956 12.5 12 12.5ZM12 16.5C11.8022 16.5 11.6089 16.4414 11.4444 16.3315C11.28 16.2216 11.1518 16.0654 11.0761 15.8827C11.0004 15.7 10.9806 15.4989 11.0192 15.3049C11.0578 15.1109 11.153 14.9327 11.2929 14.7929C11.4327 14.653 11.6109 14.5578 11.8049 14.5192C11.9989 14.4806 12.2 14.5004 12.3827 14.5761C12.5654 14.6518 12.7216 14.78 12.8315 14.9444C12.9414 15.1089 13 15.3022 13 15.5C13 15.7652 12.8946 16.0196 12.7071 16.2071C12.5196 16.3946 12.2652 16.5 12 16.5ZM11.29 10.21C11.3851 10.301 11.4972 10.3724 11.62 10.42C11.7397 10.4729 11.8691 10.5002 12 10.5002C12.1309 10.5002 12.2603 10.4729 12.38 10.42C12.5028 10.3724 12.6149 10.301 12.71 10.21L15 7.96C15.1936 7.76639 15.3024 7.5038 15.3024 7.23C15.3024 6.9562 15.1936 6.69361 15 6.5C14.8064 6.30639 14.5438 6.19762 14.27 6.19762C13.9962 6.19762 13.7336 6.30639 13.54 6.5L13 7.09V3.5C13 3.23478 12.8946 2.98043 12.7071 2.79289C12.5196 2.60536 12.2652 2.5 12 2.5C11.7348 2.5 11.4804 2.60536 11.2929 2.79289C11.1054 2.98043 11 3.23478 11 3.5V7.09L10.46 6.5C10.2664 6.30639 10.0038 6.19762 9.73 6.19762C9.4562 6.19762 9.19361 6.30639 9 6.5C8.80639 6.69361 8.69762 6.9562 8.69762 7.23C8.69762 7.5038 8.80639 7.76639 9 7.96L11.29 10.21ZM19 15.5C19 15.3022 18.9414 15.1089 18.8315 14.9444C18.7216 14.78 18.5654 14.6518 18.3827 14.5761C18.2 14.5004 17.9989 14.4806 17.8049 14.5192C17.6109 14.5578 17.4327 14.653 17.2929 14.7929C17.153 14.9327 17.0578 15.1109 17.0192 15.3049C16.9806 15.4989 17.0004 15.7 17.0761 15.8827C17.1518 16.0654 17.28 16.2216 17.4444 16.3315C17.6089 16.4414 17.8022 16.5 18 16.5C18.2652 16.5 18.5196 16.3946 18.7071 16.2071C18.8946 16.0196 19 15.7652 19 15.5ZM20 8.5H17C16.7348 8.5 16.4804 8.60536 16.2929 8.79289C16.1054 8.98043 16 9.23478 16 9.5C16 9.76522 16.1054 10.0196 16.2929 10.2071C16.4804 10.3946 16.7348 10.5 17 10.5H20C20.2652 10.5 20.5196 10.6054 20.7071 10.7929C20.8946 10.9804 21 11.2348 21 11.5V19.5C21 19.7652 20.8946 20.0196 20.7071 20.2071C20.5196 20.3946 20.2652 20.5 20 20.5H4C3.73478 20.5 3.48043 20.3946 3.29289 20.2071C3.10536 20.0196 3 19.7652 3 19.5V11.5C3 11.2348 3.10536 10.9804 3.29289 10.7929C3.48043 10.6054 3.73478 10.5 4 10.5H7C7.26522 10.5 7.51957 10.3946 7.70711 10.2071C7.89464 10.0196 8 9.76522 8 9.5C8 9.23478 7.89464 8.98043 7.70711 8.79289C7.51957 8.60536 7.26522 8.5 7 8.5H4C3.20435 8.5 2.44129 8.81607 1.87868 9.37868C1.31607 9.94129 1 10.7044 1 11.5V19.5C1 20.2956 1.31607 21.0587 1.87868 21.6213C2.44129 22.1839 3.20435 22.5 4 22.5H20C20.7956 22.5 21.5587 22.1839 22.1213 21.6213C22.6839 21.0587 23 20.2956 23 19.5V11.5C23 10.7044 22.6839 9.94129 22.1213 9.37868C21.5587 8.81607 20.7956 8.5 20 8.5ZM5 15.5C5 15.6978 5.05865 15.8911 5.16853 16.0556C5.27841 16.22 5.43459 16.3482 5.61732 16.4239C5.80004 16.4996 6.00111 16.5194 6.19509 16.4808C6.38907 16.4422 6.56725 16.347 6.70711 16.2071C6.84696 16.0673 6.9422 15.8891 6.98079 15.6951C7.01937 15.5011 6.99957 15.3 6.92388 15.1173C6.84819 14.9346 6.72002 14.7784 6.55557 14.6685C6.39112 14.5586 6.19778 14.5 6 14.5C5.73478 14.5 5.48043 14.6054 5.29289 14.7929C5.10536 14.9804 5 15.2348 5 15.5Z"
                    />
                </svg>`,
                    link: "income",
                    page: "/profile/income",
                    name: this.$t("header.links.income"),
                },
                {
                    svg: `<svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M17 22.5H5C4.20435 22.5 3.44129 22.1839 2.87868 21.6213C2.31607 21.0587 2 20.2956 2 19.5V9.49997C2 8.70432 2.31607 7.94125 2.87868 7.37864C3.44129 6.81604 4.20435 6.49997 5 6.49997H6C6.01682 5.6526 6.30235 4.83248 6.81541 4.15789C7.32848 3.48331 8.04255 2.98911 8.85464 2.7466C9.66673 2.50408 10.5349 2.52578 11.3338 2.80856C12.1328 3.09134 12.8213 3.62059 13.3 4.31997C13.7484 4.95911 13.9925 5.71923 14 6.49997H17C17.2652 6.49997 17.5196 6.60532 17.7071 6.79286C17.8946 6.98039 18 7.23475 18 7.49997V10.5C18.8474 10.5168 19.6675 10.8023 20.3421 11.3154C21.0167 11.8284 21.5109 12.5425 21.7534 13.3546C21.9959 14.1667 21.9742 15.0348 21.6914 15.8338C21.4086 16.6328 20.8794 17.3212 20.18 17.8C19.5409 18.2484 18.7807 18.4925 18 18.5V21.5C18 21.7652 17.8946 22.0195 17.7071 22.2071C17.5196 22.3946 17.2652 22.5 17 22.5ZM5 8.49997C4.73478 8.49997 4.48043 8.60532 4.29289 8.79286C4.10536 8.98039 4 9.23475 4 9.49997V19.5C4 19.7652 4.10536 20.0195 4.29289 20.2071C4.48043 20.3946 4.73478 20.5 5 20.5H16V17.32C15.9991 17.1596 16.0368 17.0014 16.1099 16.8587C16.183 16.716 16.2894 16.593 16.42 16.5C16.5502 16.4071 16.7008 16.3468 16.8592 16.3242C17.0175 16.3016 17.179 16.3173 17.33 16.37C17.615 16.4862 17.9254 16.5262 18.2305 16.4858C18.5357 16.4455 18.825 16.3263 19.07 16.14C19.3139 15.9913 19.523 15.792 19.6834 15.5557C19.8439 15.3194 19.9518 15.0515 20 14.77C20.0386 14.486 20.0157 14.1971 19.9329 13.9228C19.85 13.6485 19.7092 13.3951 19.52 13.18C19.2641 12.8691 18.9155 12.6481 18.5252 12.5491C18.1349 12.4502 17.7231 12.4785 17.35 12.63C17.199 12.6827 17.0375 12.6983 16.8792 12.6757C16.7208 12.6531 16.5702 12.5928 16.44 12.5C16.3094 12.407 16.203 12.2839 16.1299 12.1412C16.0568 11.9985 16.0191 11.8403 16.02 11.68V8.49997H12.82C12.6557 8.50928 12.4915 8.47788 12.3422 8.40855C12.1929 8.33922 12.0631 8.2341 11.9641 8.10253C11.8652 7.97096 11.8003 7.817 11.7752 7.65432C11.75 7.49164 11.7654 7.32526 11.82 7.16997C11.9363 6.88497 11.9762 6.57459 11.9359 6.26945C11.8955 5.96431 11.7673 5.67496 11.59 5.42997C11.4424 5.17913 11.2402 4.96473 10.9984 4.80266C10.7566 4.64058 10.4815 4.53499 10.1934 4.49369C9.90527 4.45239 9.61155 4.47645 9.33399 4.56409C9.05644 4.65173 8.80216 4.8007 8.59 4.99997C8.39298 5.19538 8.23877 5.42966 8.1372 5.6879C8.03562 5.94614 7.9889 6.22269 8 6.49997C8.00232 6.72934 8.04637 6.95637 8.13 7.16997C8.18287 7.32118 8.19863 7.48289 8.17597 7.64147C8.1533 7.80005 8.09287 7.95087 7.99976 8.08122C7.90665 8.21158 7.78358 8.31765 7.64093 8.39053C7.49827 8.4634 7.34019 8.50093 7.18 8.49997H5Z"
                    />
                </svg>`,
                    link: "connecting",
                    page: "/profile/connecting",
                    name: this.$t("header.links.connection"),
                },
                {
                    svg: `<svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                >
                    <path
                        d="M19 7.5H18V6.5C18 5.70435 17.6839 4.94129 17.1213 4.37868C16.5587 3.81607 15.7956 3.5 15 3.5H5C4.20435 3.5 3.44129 3.81607 2.87868 4.37868C2.31607 4.94129 2 5.70435 2 6.5V18.5C2 19.2956 2.31607 20.0587 2.87868 20.6213C3.44129 21.1839 4.20435 21.5 5 21.5H19C19.7956 21.5 20.5587 21.1839 21.1213 20.6213C21.6839 20.0587 22 19.2956 22 18.5V10.5C22 9.70435 21.6839 8.94129 21.1213 8.37868C20.5587 7.81607 19.7956 7.5 19 7.5ZM5 5.5H15C15.2652 5.5 15.5196 5.60536 15.7071 5.79289C15.8946 5.98043 16 6.23478 16 6.5V7.5H5C4.73478 7.5 4.48043 7.39464 4.29289 7.20711C4.10536 7.01957 4 6.76522 4 6.5C4 6.23478 4.10536 5.98043 4.29289 5.79289C4.48043 5.60536 4.73478 5.5 5 5.5ZM20 15.5H19C18.7348 15.5 18.4804 15.3946 18.2929 15.2071C18.1054 15.0196 18 14.7652 18 14.5C18 14.2348 18.1054 13.9804 18.2929 13.7929C18.4804 13.6054 18.7348 13.5 19 13.5H20V15.5ZM20 11.5H19C18.2044 11.5 17.4413 11.8161 16.8787 12.3787C16.3161 12.9413 16 13.7044 16 14.5C16 15.2956 16.3161 16.0587 16.8787 16.6213C17.4413 17.1839 18.2044 17.5 19 17.5H20V18.5C20 18.7652 19.8946 19.0196 19.7071 19.2071C19.5196 19.3946 19.2652 19.5 19 19.5H5C4.73478 19.5 4.48043 19.3946 4.29289 19.2071C4.10536 19.0196 4 18.7652 4 18.5V9.33C4.32127 9.44302 4.65943 9.50051 5 9.5H19C19.2652 9.5 19.5196 9.60536 19.7071 9.79289C19.8946 9.98043 20 10.2348 20 10.5V11.5Z"
                    />
                </svg>`,
                    link: "wallets",
                    page: "/profile/wallets",
                    name: this.$t("header.links.wallets"),
                },
                {
                    svg: `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.89183 20.1663L8.4335 17.2788C8.14322 17.1719 7.83766 17.0268 7.51683 16.8434C7.196 16.6601 6.91336 16.4691 6.66891 16.2705L3.96475 17.508L1.8335 13.7497L4.3085 11.9393C4.27794 11.8018 4.25884 11.6452 4.2512 11.4695C4.24357 11.2938 4.23975 11.1372 4.23975 10.9997C4.23975 10.8622 4.24357 10.7056 4.2512 10.5299C4.25884 10.3542 4.27794 10.1976 4.3085 10.0601L1.8335 8.24967L3.96475 4.49134L6.66891 5.72884C6.91336 5.53023 7.196 5.33926 7.51683 5.15592C7.83766 4.97259 8.14322 4.83509 8.4335 4.74342L8.89183 1.83301H13.1085L13.5668 4.72051C13.8571 4.82745 14.1665 4.96877 14.495 5.14447C14.8234 5.32016 15.1022 5.51495 15.3314 5.72884L18.0356 4.49134L20.1668 8.24967L17.6918 10.0143C17.7224 10.167 17.7415 10.3313 17.7491 10.507C17.7568 10.6827 17.7606 10.8469 17.7606 10.9997C17.7606 11.1525 17.7568 11.3129 17.7491 11.4809C17.7415 11.649 17.7224 11.8094 17.6918 11.9622L20.1668 13.7497L18.0356 17.508L15.3314 16.2705C15.087 16.4691 14.8081 16.6639 14.495 16.8549C14.1818 17.0459 13.8724 17.1872 13.5668 17.2788L13.1085 20.1663H8.89183ZM11.0002 13.9788C11.8252 13.9788 12.5279 13.6886 13.1085 13.108C13.6891 12.5275 13.9793 11.8247 13.9793 10.9997C13.9793 10.1747 13.6891 9.4719 13.1085 8.89134C12.5279 8.31079 11.8252 8.02051 11.0002 8.02051C10.1752 8.02051 9.47238 8.31079 8.89183 8.89134C8.31127 9.4719 8.021 10.1747 8.021 10.9997C8.021 11.8247 8.31127 12.5275 8.89183 13.108C9.47238 13.6886 10.1752 13.9788 11.0002 13.9788ZM11.0002 12.6038C10.5571 12.6038 10.179 12.4472 9.86579 12.134C9.55259 11.8209 9.396 11.4427 9.396 10.9997C9.396 10.5566 9.55259 10.1785 9.86579 9.8653C10.179 9.55211 10.5571 9.39551 11.0002 9.39551C11.4432 9.39551 11.8213 9.55211 12.1345 9.8653C12.4477 10.1785 12.6043 10.5566 12.6043 10.9997C12.6043 11.4427 12.4477 11.8209 12.1345 12.134C11.8213 12.4472 11.4432 12.6038 11.0002 12.6038ZM9.99183 18.7913H12.0085L12.3293 16.2247C12.8335 16.1025 13.3109 15.9115 13.7616 15.6518C14.2123 15.392 14.621 15.0788 14.9877 14.7122L17.4168 15.7663L18.3335 14.1163L16.1793 12.5351C16.2404 12.2754 16.2901 12.0195 16.3283 11.7674C16.3665 11.5153 16.3856 11.2594 16.3856 10.9997C16.3856 10.74 16.3703 10.484 16.3397 10.232C16.3092 9.97988 16.2557 9.72398 16.1793 9.46426L18.3335 7.88301L17.4168 6.23301L14.9877 7.28717C14.6363 6.88995 14.2391 6.55766 13.796 6.2903C13.3529 6.02294 12.8641 5.85106 12.3293 5.77467L12.0085 3.20801H9.99183L9.671 5.77467C9.15155 5.88162 8.66648 6.06495 8.21579 6.32467C7.76509 6.5844 7.36405 6.90523 7.01266 7.28717L4.5835 6.23301L3.66683 7.88301L5.821 9.46426C5.75989 9.72398 5.71023 9.97988 5.67204 10.232C5.63384 10.484 5.61475 10.74 5.61475 10.9997C5.61475 11.2594 5.63384 11.5153 5.67204 11.7674C5.71023 12.0195 5.75989 12.2754 5.821 12.5351L3.66683 14.1163L4.5835 15.7663L7.01266 14.7122C7.37933 15.0788 7.78801 15.392 8.2387 15.6518C8.6894 15.9115 9.16683 16.1025 9.671 16.2247L9.99183 18.7913Z"/>
                    </svg>
                    `,
                    link: "settings",
                    page: "/profile/settings",
                    name: this.$t("header.links.settings"),
                },
            ];
        },
    },
};
</script>

<style lang="scss">
.shadow-enter-active,
.shadow-leave-active {
    transition: all 0.5s ease 0s, visibility 0.5s ease 0s;
    visibility: visible;
    opacity: 1;
}
.shadow-enter-from,
.shadow-leave-to {
    visibility: hidden;
    opacity: 0;
}
.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.8s ease;
}
.fade-enter-from,
.fade-leave-to {
    opacity: 0;
}
.nav__links {
    display: flex;
    width: 100%;
    gap: 42px;
    justify-content: flex-start;
    @media (min-width: 1320.98px) {
        min-width: 580px;
    }
    @media (max-width: 1320.98px) {
        gap: 15px;
    }
    @media (max-width: 991.98px) {
        flex-direction: column;
        gap: 0;
        overflow: hidden;
    }
    @media (max-width: 767.98px) {
        margin: 0;
        width: 100%;
    }

    &_con {
        @media (max-width: 991.98px) {
            position: fixed;
            background: #fafafa;
            box-shadow: 0px 4px 10px 0px rgba(85, 85, 85, 0.1);
            overflow-y: scroll;
            max-width: 384px;
            width: 100%;
            height: 100vh;
            top: 80px;
            right: -110vw;
            z-index: 99;
            display: flex;
            flex-direction: column;
            padding: 40px 32px;
            gap: 40px;
        }
        @media (max-width: 479.98px) {
            gap: 32px;
            top: 59px;
            padding: 32px 16px 24px;
            max-width: 100%;
        }
        transition: all 0.8s ease 0s;

        &.open {
            right: 0;
        }
    }
}
.nav {
    &__footer {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 32px;
    }
    &__row {
        display: flex;
        align-items: center;
        gap: 12px;
        justify-content: center;
    }
    &__column {
        display: flex;
        flex-direction: column;
        gap: 13px;
        .blue-button {
            width: 100%;
        }
    }
}

.nav__burger {
    background: transparent;
    min-width: 38px;
    height: 38px;
    margin: -7px -7px -7px 0;
    border-radius: 14px;
    gap: 4px;

    &:active {
        box-shadow: inset 0 4px 4px rgba(0, 0, 0, 0.25);
    }

    &_con {
        margin: 0 auto;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 4px;
        width: 100%;
        overflow: hidden;
    }

    & span {
        display: block;
        width: 18px;
        height: 2px;
        flex: 0 0 2px;
        background-color: #4182ec;
        border-radius: 5px;
        position: relative;
        right: 0;

        &:nth-child(2) {
            &::before {
                content: "";
                position: absolute;
                width: 100%;
                height: 100%;
                background-color: #4182ec;
            }
        }
    }

    &.active {
        & span {
            &:nth-child(1) {
                right: 100%;
            }

            &:nth-child(2) {
                transform: rotate(45deg);

                &::before {
                    transform: rotate(-90deg);
                }
            }

            &:nth-child(3) {
                right: -100%;
            }
        }
    }
}
</style>
