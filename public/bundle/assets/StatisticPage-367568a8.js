import{M as B}from"./MainTitle-5abaae33.js";import{M as j}from"./MainPreloader-edb92089.js";import{I as F}from"./CabinetCard-9f91989e.js";import{B as W,M as $,a as L,G as H,b as K}from"./BarGraphData-2d15976d.js";import{a as y,I as z}from"./InstructionService-d77d7f22.js";import{m as G,_ as C,r as o,o as r,c as g,d as s,n as v,a as d,h as f,b as I,t as w,g as k,j as b,p as E,e as q,P as J,f as Q,w as x,T as U,F as X}from"./app-7a3a58ff.js";import{M as Y}from"./MainTabs-a2f87367.js";import{W as M,M as Z}from"./WaitPreloader-358f9559.js";import{M as R,D as tt}from"./MinuteHashrateIcon-95aec08f.js";import{I as it}from"./InstructionButton-391a8821.js";/* empty css                                                                  */import"./StatesService-a0d6c34c.js";import"./anime.es-de4e5aa0.js";import"./TooltipCard-430f11e3.js";import"./converter-ec486320.js";import"./transform-fa9976d2.js";import"./DefaultSubsService-b95954c2.js";const et={name:"info-block",components:{BtcCalculator:W,InstructionStep:y},props:{instructionConfig:Object},computed:{todayAmount(){var t;let i=((t=this.getAccount)==null?void 0:t.today_forecast)||0;return Number(i).toFixed(8)},yesterdayAmount(){var t;let i=((t=this.getAccount)==null?void 0:t.yesterday_amount)||0;return Number(i).toFixed(8)},monthAmount(){var t;let i=((t=this.getAccount)==null?void 0:t.today_forecast)*30||0;return Number(i).toFixed(8)},...G(["getAccount"])}};function nt(i,t,e,S,n,c){const a=o("btc-calculator"),u=o("instruction-step");return r(),g("div",{class:v(["cabinet__block onboarding_block cabinet__block-card cabinet__block-light info",{"onboarding_block-target":e.instructionConfig.isVisible&&e.instructionConfig.step===3}])},[s(a,{title:i.$t("statistic.info_blocks.payment.titles[0]"),bitcoin:c.todayAmount},null,8,["title","bitcoin"]),s(a,{title:i.$t("statistic.info_blocks.payment.titles[1]"),bitcoin:c.yesterdayAmount},null,8,["title","bitcoin"]),s(a,{title:i.$t("statistic.info_blocks.payment.titles[2]"),bitcoin:c.monthAmount},null,8,["title","bitcoin"]),s(u,{onNext:t[0]||(t[0]=l=>e.instructionConfig.nextStep()),onPrev:t[1]||(t[1]=l=>e.instructionConfig.prevStep()),onClose:t[2]||(t[2]=l=>e.instructionConfig.nextStep(6)),step_active:3,steps_count:e.instructionConfig.steps_count,step:e.instructionConfig.step,isVisible:e.instructionConfig.isVisible,text:"texts.statistic[2]",title:"titles.statistic[2]",className:"onboarding__card-bottom"},null,8,["steps_count","step","isVisible"])],2)}const st=C(et,[["render",nt],["__scopeId","data-v-8b4a4ba6"]]);const ot={name:"StatisticLineGraph",components:{WaitPreloader:M,MainTitle:B,MainTabs:Y,MainLineGraph:Z,InstructionStep:y},props:{waitGraphChange:Boolean,offset:Number,graph:Object,buttons:Object,instructionConfig:Object},computed:{...G(["viewportWidth"]),height(){return this.heightVal?this.heightVal:this.viewportWidth<479.98||this.viewportWidth<767.98||this.viewportWidth<991.98||this.viewportWidth<1320.98?246:448}}},at={class:"cabinet__head graph__head"};function rt(i,t,e,S,n,c){const a=o("main-title"),u=o("main-tabs"),l=o("wait-preloader"),_=o("main-line-graph"),h=o("instruction-step");return r(),g("div",{class:v(["cabinet__block onboarding_block cabinet__block-graph cabinet__block-light",{"onboarding_block-target":e.instructionConfig.isVisible&&e.instructionConfig.step===1}])},[d("div",at,[s(a,{class:"chart-title-statistic"},{default:f(()=>[I(w(i.$t("statistic.chart.title")),1)]),_:1}),s(u,{tabs:e.buttons,active:e.offset,onGetValue:t[0]||(t[0]=p=>i.$emit("getValue",p))},null,8,["tabs","active"])]),s(l,{wait:e.waitGraphChange},null,8,["wait"]),e.waitGraphChange?b("",!0):(r(),k(_,{key:0,"graph-data":e.graph,height:c.height},null,8,["graph-data","height"])),s(h,{step_active:1,steps_count:e.instructionConfig.steps_count,step:e.instructionConfig.step,"is-visible":e.instructionConfig.isVisible,text:"texts.statistic[0]",title:"titles.statistic[0]","class-name":"onboarding__card-top",onNext:t[1]||(t[1]=p=>e.instructionConfig.nextStep()),onPrev:t[2]||(t[2]=p=>e.instructionConfig.prevStep()),onClose:t[3]||(t[3]=p=>e.instructionConfig.nextStep(6))},null,8,["steps_count","step","is-visible"])],2)}const ct=C(ot,[["render",rt],["__scopeId","data-v-df1488a3"]]);const lt={name:"StatisticColumnGraph",components:{WaitPreloader:M,MainColumnGraph:$,MainProgressBar:L,InstructionStep:y},props:{waitGraphChange:Boolean,graph:Object,instructionConfig:Object},data(){return{height:75}},computed:{...G(["viewportWidth","getAccount","getActive"]),pendingAmount(){let i=0;return Object.values(this.getAccount).length>0&&(i=this.getAccount.pending_amount),Number(i).toFixed(8)}}};function ut(i,t,e,S,n,c){const a=o("main-progress-bar"),u=o("main-column-graph"),l=o("instruction-step");return r(),g("div",{class:v(["cabinet__block onboarding_block cabinet__block-card cabinet__block-graph cabinet__block-light statistic__block",{"onboarding_block-target":e.instructionConfig.isVisible&&e.instructionConfig.step===4}])},[s(a,{title:i.$t("statistic.graph[2]"),hint:"На вашем субаккаунте 0.00051380 BTC\u2028Автовыплата происходит при  балансе > 0.005 BTC",progress:c.pendingAmount,final:.005,unit:"BTC"},null,8,["title","progress","final"]),e.waitGraphChange?b("",!0):(r(),k(u,{key:0,height:n.height,"graph-data":e.graph},null,8,["height","graph-data"])),s(l,{step_active:4,steps_count:e.instructionConfig.steps_count,step:e.instructionConfig.step,"is-visible":e.instructionConfig.isVisible,text:"texts.statistic[3]",title:"titles.statistic[3]","class-name":"onboarding__card-bottom",onNext:t[0]||(t[0]=_=>e.instructionConfig.nextStep()),onPrev:t[1]||(t[1]=_=>e.instructionConfig.prevStep()),onClose:t[2]||(t[2]=_=>e.instructionConfig.nextStep(6))},null,8,["steps_count","step","is-visible"])],2)}const _t=C(lt,[["render",ut],["__scopeId","data-v-ae917f0d"]]),ht={en:{no_info:{text:"Connect your devices and the actual statistics will be displayed here",button:"Connect"}},ru:{no_info:{text:"Подключите свои устройства, и здесь отобразится актуальная статистика",button:"Подключить"}}},pt="/bundle/assets/img_no-statistic-f7508b8c.png";const gt={name:"NoInformation",i18n:{sharedMessages:ht}},dt=i=>(E("data-v-c18ee8d4"),i=i(),q(),i),mt={class:"no-information"},ft={class:"no-information__block"},bt=dt(()=>d("img",{src:pt,class:"no-information_img",alt:"no-statistic-info"},null,-1)),vt={class:"no-information_text"};function Ct(i,t,e,S,n,c){const a=o("router-link");return r(),g("div",mt,[d("div",ft,[bt,d("p",vt,w(i.$t("no_info.text")),1)]),s(a,{to:"connecting",class:"button button-blue button-full"},{default:f(()=>[I(w(i.$t("no_info.button")),1)]),_:1})])}const St=C(gt,[["render",Ct],["__scopeId","data-v-c18ee8d4"]]);class wt{constructor(t){this.hashrate=t.hash,this.unit=t.unit,this.amount=t.worker_count}}class V extends H{constructor(t,e){super(t),this.waitGraph=!0,this.waitGraphChange=!0,this.buttons=[],this.route=e}setButtons(){this.buttons=[{title:`24 ${this.translate("hours")}`,value:96},{title:`7 ${this.translate("days")}`,value:672}]}async fetch(){return await J.get(`/statistic/${this.group_id}?offset=${this.offset}`)}async lineGraphIndex(){if(this.group_id!==-1){this.waitGraphChange=!0,this.setDefaultKeys();try{const t=(await this.fetch()).data;this.records=t.hashes.map(e=>new wt(e)),await this.makeFullValues(),this.waitGraph=!1,this.waitGraphChange=!1}catch(t){console.error(t)}}}async barGraphIndex(){if(this.group_id!==-1){this.waitGraphChange=!0;try{const t=(await this.fetch()).data;this.records=t.incomes.map(e=>new K(e)),this.setDefaultKeys(60*60*1e3*24),await this.makeFullBarValues(),this.waitGraph=!1,this.waitGraphChange=!1}catch(t){console.error(t),this.waitGraphChange=!1}}}}const kt={components:{InstructionButton:it,MainTitle:B,MainPreloader:j,CabinetCard:F,InfoBlock:st,StatisticLineGraph:ct,StatisticColumnGraph:_t,NoInformation:St,MinuteHashrateIcon:R,DayHashrateIcon:tt,InstructionStep:y},data(){return{lineChartService:new V(this.offset,this.$route),barChartService:new V(30),instructionService:new z,isMounted:!1}},watch:{"$i18n.locale"(){document.title=this.$t("header.links.statistic"),this.lineChartService.setButtons()},async"lineChartService.offset"(){await this.lineChartService.lineGraphIndex()},async getActive(i){this.lineChartService.setGroupId(i),this.barChartService.setGroupId(i),await this.lineChartService.lineGraphIndex(),await this.barChartService.barGraphIndex()}},computed:{...G(["getActive","getAccount"])},async mounted(){this.isMounted=!0,this.instructionService.setStepsCount(4),document.title=this.$t("header.links.statistic"),this.$t&&(this.lineChartService.setTranslate(this.$t),this.barChartService.setTranslate(this.$t)),this.lineChartService.setGroupId(this.getActive),this.barChartService.setGroupId(this.getActive),this.lineChartService.setButtons(),await this.lineChartService.lineGraphIndex(),await this.barChartService.barGraphIndex()}},yt={key:0,class:"cabinet statistic__cabinet"};function Gt(i,t,e,S,n,c){const a=o("main-preloader"),u=o("main-title"),l=o("statistic-line-graph"),_=o("minute-hashrate-icon"),h=o("cabinet-card"),p=o("day-hashrate-icon"),N=o("instruction-step"),T=o("info-block"),P=o("statistic-column-graph"),D=o("no-information"),O=o("instruction-button"),A=Q("scroll");return r(),g(X,null,[d("div",{class:v(["statistic",{"statistic-center":n.lineChartService.waitGraph||!i.getAccount.workers_count}])},[s(a,{class:"cabinet__preloader cabinet__preloader-bg",wait:n.lineChartService.waitGraph,interval:20,end:!!n.lineChartService},null,8,["wait","end"]),!n.lineChartService.waitGraph&&i.getAccount.workers_count?x((r(),g("div",yt,[s(u,{class:"title-statistic"},{default:f(()=>[I(w(i.$t("statistic.title")),1)]),_:1}),s(l,{class:"statistic_graph","wait-graph-change":n.lineChartService.waitGraphChange,offset:n.lineChartService.offset,graph:n.lineChartService.graph,buttons:n.lineChartService.buttons,"instruction-config":n.instructionService,onGetValue:t[0]||(t[0]=m=>n.lineChartService.setOffset(m))},null,8,["wait-graph-change","offset","graph","buttons","instruction-config"]),d("div",{class:v(["statistic__cards onboarding_block",{"onboarding_block-target":n.instructionService.isVisible&&n.instructionService.step===2}])},[s(h,{class:"statistic__card-first",title:i.$t("statistic.info_blocks.hash.titles[0]"),value:i.getAccount.hash_per_min??0,unit:`${i.getAccount.hash_per_min_unit??"T"}H/s`},{svg:f(()=>[s(_)]),_:1},8,["title","value","unit"]),s(h,{class:"statistic__card-second",title:i.$t("statistic.info_blocks.hash.titles[1]"),value:i.getAccount.hash_per_day??0,unit:`${i.getAccount.hash_per_day_unit??"T"}H/s`},{svg:f(()=>[s(p)]),_:1},8,["title","value","unit"]),s(h,{class:"card-active statistic__card-third",title:i.$t("statistic.info_blocks.workers.types[0]"),value:String(i.getAccount.workers_count_active)},null,8,["title","value"]),s(h,{class:"card-in-active statistic__card-fourth",title:i.$t("statistic.info_blocks.workers.types[2]"),value:String(i.getAccount.workers_count_in_active)},null,8,["title","value"]),s(N,{step_active:2,steps_count:n.instructionService.steps_count,step:n.instructionService.step,"is-visible":n.instructionService.isVisible,text:"texts.statistic[1]",title:"titles.statistic[1]","class-name":"onboarding__card-bottom",onNext:t[1]||(t[1]=m=>n.instructionService.nextStep()),onPrev:t[2]||(t[2]=m=>n.instructionService.prevStep()),onClose:t[3]||(t[3]=m=>n.instructionService.nextStep(6))},null,8,["steps_count","step","is-visible"])],2),s(T,{class:"statistic__info","instruction-config":n.instructionService},null,8,["instruction-config"]),s(P,{"instruction-config":n.instructionService,"wait-graph-change":n.barChartService.waitGraphChange,graph:n.barChartService.graph,class:"statistic_graph-column"},null,8,["instruction-config","wait-graph-change","graph"])])),[[A,"opacity transition--fast"]]):b("",!0),!n.lineChartService.waitGraph&&!i.getAccount.workers_count?x((r(),k(D,{key:1,class:"cabinet__preloader-bg"},null,512)),[[A,"opacity transition--fast"]]):b("",!0)],2),n.isMounted?(r(),k(U,{key:0,to:".header_button-instruction"},[s(O,{hint:"statistic",onOpenInstruction:t[4]||(t[4]=m=>n.instructionService.setStep().setVisible())})])):b("",!0)],64)}const Kt=C(kt,[["render",Gt]]);export{Kt as default};
