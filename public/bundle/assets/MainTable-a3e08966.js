import{m as v,_ as b,f as g,o as r,c as n,F as d,k as u,j as k,n as p,w,v as W,a as l,t as _,b as y,p as P,e as x,r as S,g as T}from"./app-7a3a58ff.js";const C={name:"TableRow",props:{columns:Array,titles:Array,removePercent:Boolean},computed:{...v(["viewportWidth"]),getWorkersStats(){var e,t;return(t=(e=this.$refs)==null?void 0:e.row_content)==null?void 0:t.find(s=>s.className==="workers_stats")},updatedColumns(){if(this.columns){let e=this.columns;return this.columns.unit24&&!new RegExp("h/s").test(e.hashRate)&&(e.hashRate=` ${e.hashRate} ${this.columns.unit}h/s`),e}return{}},renderTitles(){return this.titles?this.viewportWidth<=767.98&&this.updatedColumns.wallet?[this.updatedColumns.wallet!=="..."?this.updatedColumns.wallet:"...",this.titles[0],this.titles[1],this.titles[2],this.titles[3],this.titles[4]]:this.titles:[]},renderColumns(){let e={};return this.columns&&(e=Object.entries(this.updatedColumns).filter(t=>t[0]!=="class"&&t[0]!=="graphId"&&t[0]!=="data"&&t[0]!=="unit"&&t[0]!=="unit24"&&t[0]!=="message"&&t[0]!=="validate"&&t[0]!==(this.removePercent?"reject_percent":"")),this.viewportWidth<=767.98&&this.updatedColumns.status&&(e.unshift(e[5]),e.pop())),e}},mounted(){this.setWorkersStats()},methods:{setWorkersStats(){if(this.getWorkersStats){const e=this.getWorkersStats.textContent.split("/"),t=`<span class="workers-active">${e[0]}</span>`,s=`<span class="workers-inactive">${e[1]}</span>`,c=[t,s].join("/");this.getWorkersStats.innerHTML=c}},openPopup(){this.$emit("tableProcess",{id:this.columns.graphId})}}},j=e=>(P("data-v-c3de3c9e"),e=e(),x(),e),I={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},R=j(()=>l("path",{d:"M10 6L16 12L10 18","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),B=[R];function M(e,t,s,c,f,a){var o;const h=g("hash");return r(),n("tr",{class:p(["table__row",{"table__row-cursor":(o=s.columns)==null?void 0:o.graphId}]),onMousedown:t[0]||(t[0]=(...i)=>a.openPopup&&a.openPopup(...i))},[(r(!0),n(d,null,u(a.renderColumns,(i,m)=>(r(),n("td",{key:m,class:"table_column"},[w(l("span",{class:"label"},_(a.renderTitles[m]),513),[[W,e.viewportWidth<=767.98]]),w((r(),n("span",{ref_for:!0,ref:"row_content",class:p(i[0])},[y(_(i[1]),1)],2)),[[h]])]))),128)),s.columns.graphId&&!s.removePercent?(r(),n("svg",I,B)):k("",!0)],34)}const $=b(C,[["render",M],["__scopeId","data-v-c3de3c9e"]]);const N={name:"main-table",props:{viewportWidth:Number,table:Object,errors:Object,removePercent:Boolean},components:{TableRow:$},computed:{...v(["allHistoryMiner"]),rows(){var e;return(e=this.table)==null?void 0:e.get("rows")},titles(){var e,t;if((e=this.table)!=null&&e.get("titles")){const s=[...(t=this.table)==null?void 0:t.get("titles")];return this.removePercent&&s.pop(),s}return null}},data(){return{redraw:!0,height:360,indexWorker:0}},watch:{viewportWidth(){this.viewportWidth>=991.98&&(this.height=360),this.viewportWidth<991.98&&(this.height=352)},async indexWorker(e,t){e!==t&&e!==-1&&await setTimeout(()=>this.redraw=!0,1700)}},methods:{async getUser(e){this.$emit("getData",e)},dropUser(){Object.values(this.worker_service).length>0&&this.worker_service.clearWorkerId()}}},D={class:"table"},L={class:"table__head"},O={class:"table__row"},U={class:"table__body"};function A(e,t,s,c,f,a){const h=S("table-row");return r(),n("table",D,[l("thead",L,[l("tr",O,[(r(!0),n(d,null,u(a.titles,(o,i)=>(r(),n("th",{class:"table_column",key:i},[l("span",null,_(o),1)]))),128))])]),l("tbody",U,[(r(!0),n(d,null,u(a.rows,(o,i)=>(r(),T(h,{columns:o,titles:a.titles,key:i,viewportWidth:s.viewportWidth,class:p(o.class??null),"data-popup":o.data,removePercent:s.removePercent,onTableProcess:a.getUser},null,8,["columns","titles","viewportWidth","class","data-popup","removePercent","onTableProcess"]))),128))])])}const F=b(N,[["render",A]]);export{F as M};
