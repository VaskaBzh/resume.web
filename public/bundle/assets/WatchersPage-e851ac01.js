import{M as P}from"./MainDescriptionOld-8ed807b9.js";import{M as A}from"./MainTitle-5abaae33.js";import{M}from"./MainButton-069506c4.js";import{_ as C,o as l,c as v,a as n,w as G,v as L,t as h,r as i,F as S,k as I,g as f,n as E,i as q,m as F,h as c,d as r,B as O,b as m,q as V,p as H,e as J,P as T,C as b,j as B,T as ee}from"./app-7a3a58ff.js";import{M as te}from"./MainSlider-cf396ea1.js";import{W as R}from"./WatchersMessages-3b1bfe4c.js";import{M as j}from"./MainPopup-3ac77bbe.js";import{M as K}from"./MainInput-7e1d9d63.js";import{a as Q,I as se}from"./InstructionService-d77d7f22.js";import{M as oe}from"./MainCopy-b48a6063.js";import{M as ae}from"./MainPreloader-edb92089.js";import{D as ie}from"./DefaultSubsService-b95954c2.js";import{I as re}from"./InstructionButton-391a8821.js";/* empty css                                                                  */import"./MainIcon-57980112.js";import"./anime.es-de4e5aa0.js";import"./TickIcon-df7ac9c5.js";import"./StatesService-a0d6c34c.js";const ne={name:"plus-icon"},ce={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le=n("path",{d:"M12 4V20M4 12H20","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),de=[le];function he(e,t,s,d,o,a){return l(),v("svg",ce,de)}const ue=C(ne,[["render",he]]);const _e={name:"watcher-tag",props:{tag:String},i18n:{sharedMessages:R},computed:{tagName(){return{"v1.sub.show":this.$t("tabs[0]"),"v1.worker.list":this.$t("tabs[2]"),"v1.income.list":this.$t("tabs[1]")}[this.tag]}}};function pe(e,t,s,d,o,a){return G((l(),v("span",{class:"tag"},h(a.tagName),513)),[[L,a.tagName]])}const me=C(_e,[["render",pe],["__scopeId","data-v-e85eceb1"]]);const ve={name:"watcher-block",props:{name:String,tags:Array},components:{WatcherTag:me}},we={class:"block cabinet__block cabinet__block-card cabinet__block-light"},be={class:"block_name"},fe={class:"block__tags"};function ge(e,t,s,d,o,a){const _=i("watcher-tag");return l(),v("div",we,[n("span",be,h(s.name),1),n("div",fe,[(l(!0),v(S,null,I(s.tags,(p,w)=>(l(),f(_,{key:w,tag:p},null,8,["tag"]))),128))])])}const ke=C(ve,[["render",ge],["__scopeId","data-v-b6bd419e"]]);const Ce={name:"watchers-list",components:{WatcherBlock:ke},props:{blocks:Array,activeWatcher:Object}},We={class:"list"};function ye(e,t,s,d,o,a){const _=i("watcher-block");return l(),v("div",We,[(l(!0),v(S,null,I(s.blocks,(p,w)=>{var g;return l(),f(_,{key:w,name:p.name,tags:p.tags,class:E({"list_block-active":((g=s.activeWatcher)==null?void 0:g.name)===p.name}),onClick:x=>e.$emit("getWatcher",p.id)},null,8,["name","tags","class","onClick"])}),128))])}const xe=C(Ce,[["render",ye],["__scopeId","data-v-f526c271"]]);const $e={name:"main-checkbox",props:{is_checked:{type:Boolean,default:!1},editable:{default:!0,type:Boolean}},data(){return{isChecked:this.is_checked}},methods:{checkboxer(){this.editable&&(this.isChecked=!this.isChecked,this.$emit("is_checked",this.isChecked))}},watch:{is_checked(e){this.isChecked=e}}};function Re(e,t,s,d,o,a){return l(),v("span",{ref:"checkbox",class:E(["checkbox",{checked:o.isChecked,disabled:!s.editable}]),onClick:t[0]||(t[0]=(..._)=>a.checkboxer&&a.checkboxer(..._))},[q(e.$slots,"default",{},void 0,!0)],2)}const U=C($e,[["render",Re],["__scopeId","data-v-6d530795"]]);const Te={name:"WatchersPopupAdd",components:{MainCheckbox:U,MainInput:K,MainButton:M,MainPopup:j,MainTitle:A,MainDescription:P,InstructionStep:Q},props:{wait:Boolean,opened:Boolean,closed:Boolean,instructionConfig:Boolean},i18n:{sharedMessages:R},data(){return{form:{name:"",allowedRoutes:[]},allowedRoutes:[{name:this.$t("tabs[0]"),checked:!0,editable:!1,routes:["v1.sub.show","v1.statistic.show","v1.allowed-routes"]},{name:this.$t("tabs[2]"),checked:!1,editable:!0,routes:["v1.worker.show","v1.worker.list","v1.worker_hashrate.list"]},{name:this.$t("tabs[1]"),checked:!1,editable:!0,routes:["v1.income.list","v1.payout.list"]}]}},watch:{"$i18n.locale"(){this.allowedRoutes.map((e,t)=>e.name=this.$t(`tabs[${t}]`))},closed(e){e&&(this.allowedRoutes=[{name:this.$t("tabs[0]"),checked:!0,editable:!1,routes:["v1.sub.show","v1.statistic.show","v1.allowed-routes"]},{name:this.$t("tabs[2]"),checked:!1,editable:!0,routes:["v1.worker.show","v1.worker.list","v1.worker_hashrate.list"]},{name:this.$t("tabs[1]"),checked:!1,editable:!0,routes:["v1.income.list","v1.payout.list"]}],this.form={name:"",allowedRoutes:[]})}},methods:{setFormName(e){this.form={...this.form,name:e}},dropFormAllowedRoutes(){this.form.allowedRoutes=[]},setFormAllowedRoutes(){this.wait||(this.dropFormAllowedRoutes(),this.allowedRoutes.forEach(e=>{e.checked&&(this.form.allowedRoutes=[...this.form.allowedRoutes,...e.routes])}),this.$emit("createWatcher",this.form))},setAllowedRoutes(e,t){this.allowedRoutes[t].checked=e}},computed:{...F(["errorsExpired"])}},Se={class:"watchers__column"},Be={class:"watchers-add"},Pe={class:"watchers__block"},Ae={class:"watchers_label"},Me={class:"watchers__block watchers__block-selects"};function Ie(e,t,s,d,o,a){const _=i("main-title"),p=i("main-description"),w=i("main-input"),g=i("main-checkbox"),x=i("main-button"),$=i("instruction-step"),W=i("main-popup");return l(),f(W,{id:"addWatcher",opened:s.opened,closed:s.closed,"instruction-config":s.instructionConfig,"class-name":s.instructionConfig.isVisible&&s.instructionConfig.step===2?"onboarding_block-target":"",onClosed:t[5]||(t[5]=u=>e.$emit("closed"))},{instruction:c(()=>[r($,{step_active:2,steps_count:s.instructionConfig.steps_count,step:s.instructionConfig.step,"is-visible":s.instructionConfig.isVisible,text:"texts.watchers[1]",title:"titles.watchers[1]","class-name":"onboarding__card-right",onNext:t[2]||(t[2]=u=>s.instructionConfig.nextStep()),onPrev:t[3]||(t[3]=u=>s.instructionConfig.prevStep()),onClose:t[4]||(t[4]=u=>s.instructionConfig.nextStep(6))},null,8,["steps_count","step","is-visible"])]),default:c(()=>[n("form",{class:"watchers__form",onSubmit:t[1]||(t[1]=O((...u)=>a.setFormAllowedRoutes&&a.setFormAllowedRoutes(...u),["prevent"]))},[n("div",Se,[n("div",Be,[r(_,{class:"watcher_title"},{default:c(()=>[m(h(e.$t("add_watcher_card.title")),1)]),_:1}),r(p,null,{default:c(()=>[m(h(e.$t("add_watcher_card.text[0]")),1)]),_:1})]),r(w,{class:"watchers_input","input-name":"name","input-label":e.$t("add_watcher_card.labels"),"input-value":o.form.name,error:e.errorsExpired.name,onGetValue:t[0]||(t[0]=u=>a.setFormName(u))},null,8,["input-label","input-value","error"]),n("div",Pe,[n("div",Ae,h(e.$t("add_watcher_card.text[1]")),1),n("div",Me,[(l(!0),v(S,null,I(o.allowedRoutes,(u,y)=>(l(),f(g,{key:y,is_checked:u.checked,editable:u.editable,class:"checkbox-sm",onIs_checked:N=>a.setAllowedRoutes(N,y)},{default:c(()=>[m(h(u.name),1)]),_:2},1032,["is_checked","editable","onIs_checked"]))),128))])])]),r(x,{type:"submit",class:"button-blue button-full watchers_button",wait:s.wait},{text:c(()=>[m(h(e.$t("add_watcher_card.buttons")),1)]),_:1},8,["wait"])],32)]),_:1},8,["opened","closed","instruction-config","class-name"])}const Ee=C(Te,[["render",Ie],["__scopeId","data-v-22f358e9"]]),Fe="/bundle/assets/img_watcher-card-01d9a239.png";const Ne={name:"WatchersCard",components:{MainTitle:A,MainDescription:P,MainInput:K,MainCheckbox:U,MainCopy:oe,MainButton:M},i18n:{sharedMessages:R},props:{watcher:Object},computed:{...F(["errorsExpired"]),firstButtonClass(){return this.isEditable?"button-reverse":"button-red"},firstButtonText(){return this.isEditable?this.$t("settings_card.buttons[3]"):this.$t("settings_card.buttons[0]")},secondButtonText(){return this.isEditable?this.$t("settings_card.buttons[2]"):this.$t("settings_card.buttons[1]")}},watch:{watcher(e){this.setWatcher(e),e!=null&&e.tags&&(this.getAllowedRoutes(e.tags),this.setId(e.id),this.setFormName(e.name))},"$i18n.locale"(){this.allowedRoutes.map((e,t)=>e.name=this.$t(`tabs[${t}]`))}},data(){var e,t;return{saveWatcher:this.watcher,isEditable:!1,form:{name:(e=this.watcher)==null?void 0:e.name,allowedRoutes:[],id:(t=this.watcher)==null?void 0:t.id},allowedRoutes:[{name:this.$t("tabs[0]"),checked:!1,editable:!1,routes:["v1.sub.show","v1.statistic.show","v1.allowed-routes"]},{name:this.$t("tabs[2]"),checked:!1,editable:!0,routes:["v1.worker.show","v1.worker.list","v1.worker_hashrate.list"]},{name:this.$t("tabs[1]"),checked:!1,editable:!0,routes:["v1.income.list","v1.payout.list"]}]}},mounted(){var e;(e=this.watcher)!=null&&e.tags&&this.getAllowedRoutes(this.watcher.tags)},methods:{dropFormAllowedRoutes(){this.form.allowedRoutes=[]},setFormAllowedRoutes(){this.dropFormAllowedRoutes(),this.allowedRoutes.forEach(e=>{e.checked&&(this.form.allowedRoutes=[...this.form.allowedRoutes,...e.routes])}),this.$emit("changeWatcher",this.form)},setAllowedRoutes(e,t){this.allowedRoutes[t].checked=e},setWatcher(e){this.saveWatcher=e},setId(e){this.form={...this.form,id:e}},buttonProcess(){this.isEditable?this.isEditable=!1:this.$emit("removeWatcher",this.watcher.id)},changeWatcher(){this.isEditable&&this.setFormAllowedRoutes(),this.isEditable=!this.isEditable},setFormName(e){this.form={...this.form,name:e}},getAllowedRoutes(e){this.allowedRoutes.forEach(t=>{t.routes.forEach(s=>{t.checked=!!e.includes(s)})})}}},Oe=e=>(H("data-v-1f6299fe"),e=e(),J(),e),Ve={class:"card"},je={class:"card__wrapper"},ze={key:0,class:"card__content card__content-empty"},De=Oe(()=>n("img",{class:"card_img",src:Fe,alt:"chose-watcher"},null,-1)),Ge={key:1,class:"card__content"},Le={class:"card__block"},qe={class:"card_label"},He={class:"card__block card__block-selects"},Je={class:"card__buttons"};function Ke(e,t,s,d,o,a){const _=i("main-title"),p=i("main-description"),w=i("main-input"),g=i("main-checkbox"),x=i("main-copy"),$=i("main-button");return l(),v("div",Ve,[r(_,{class:"card_title title-mobile"},{default:c(()=>[m(h(e.$t("settings_card.title")),1)]),_:1}),n("div",je,[r(V,{name:"fade"},{default:c(()=>[o.saveWatcher?(l(),v("div",Ge,[r(w,{class:"card_input","input-name":"name","input-label":e.$t("settings_card.labels[0]"),"input-value":o.saveWatcher.name,editable:o.isEditable,error:e.errorsExpired.name,onGetValue:t[0]||(t[0]=W=>a.setFormName(W))},null,8,["input-label","input-value","editable","error"]),n("div",Le,[n("div",qe,h(e.$t("settings_card.text")),1),n("div",He,[(l(!0),v(S,null,I(o.allowedRoutes,(W,u)=>(l(),f(g,{key:u,is_checked:W.checked,class:"checkbox-sm",editable:o.isEditable?W.editable:o.isEditable,onIs_checked:y=>a.setAllowedRoutes(y,u)},{default:c(()=>[m(h(W.name),1)]),_:2},1032,["is_checked","editable","onIs_checked"]))),128))])]),r(x,{class:"card_copy","cut-value":45,code:o.saveWatcher.link,label:e.$t("settings_card.labels[1]")},null,8,["code","label"]),n("div",Je,[r($,{class:E(["card_button",a.firstButtonClass]),"data-popup":o.isEditable?null:"#removeWatcher",onClick:a.buttonProcess},{text:c(()=>[m(h(a.firstButtonText),1)]),_:1},8,["data-popup","class","onClick"]),r($,{class:"button-blue card_button",onClick:a.changeWatcher},{text:c(()=>[m(h(a.secondButtonText),1)]),_:1},8,["onClick"])])])):(l(),v("div",ze,[De,r(p,{class:"card_description"},{default:c(()=>[m(h(e.$t("default_text")),1)]),_:1})]))]),_:1})])])}const Qe=C(Ne,[["render",Ke],["__scopeId","data-v-1f6299fe"]]),Ue="/bundle/assets/img_watcher-remove-25031a18.png";const Xe={name:"WatchersPopupRemove",components:{MainButton:M,MainPopup:j,MainTitle:A,MainDescription:P},props:{wait:Boolean,name:String,id:Number},i18n:{sharedMessages:R},data(){return{closed:!1}},methods:{closePopup(){this.closed=!0,setTimeout(()=>this.closed=!0,300)},removeWatcher(){this.$emit("removeWatcher",this.id),this.closePopup()}}},Ye=e=>(H("data-v-407249aa"),e=e(),J(),e),Ze={class:"watchers__form"},et={class:"watchers__column"},tt={class:"watchers__head"},st={class:"watchers__card cabinet__block-card cabinet__block cabinet__block-light"},ot=Ye(()=>n("img",{class:"watchers_img",src:Ue,alt:"watcher"},null,-1)),at={class:"watchers_text"},it={class:"watchers__buttons"};function rt(e,t,s,d,o,a){const _=i("main-title"),p=i("main-description"),w=i("main-button"),g=i("main-popup");return l(),f(g,{id:"removeWatcher",wait:s.wait,closed:o.closed},{default:c(()=>[n("form",Ze,[n("div",et,[n("div",tt,[r(_,{class:"watchers_title"},{default:c(()=>[m(h(e.$t("delete_card.title")),1)]),_:1}),r(p,null,{default:c(()=>[m(h(e.$t("delete_card.text")),1)]),_:1})]),n("div",st,[ot,n("p",at,h(s.name),1)])]),n("div",it,[r(w,{class:"button-reverse button-full watchers_button",onClick:O(a.closePopup,["prevent"])},{text:c(()=>[m(h(e.$t("delete_card.buttons[0]")),1)]),_:1},8,["onClick"]),r(w,{class:"button-red button-full watchers_button",onClick:O(a.removeWatcher,["prevent"])},{text:c(()=>[m(h(e.$t("delete_card.buttons[1]")),1)]),_:1},8,["onClick"])])])]),_:1},8,["wait","closed"])}const nt=C(Xe,[["render",rt],["__scopeId","data-v-407249aa"]]);const ct={name:"watchers-popup-card",components:{MainPopup:j},props:{wait:Boolean,closed:Boolean,opened:Boolean},i18n:{sharedMessages:R},computed:{...F(["errorsExpired"])}};function lt(e,t,s,d,o,a){const _=i("main-popup");return l(),f(_,{id:"cardPopup",wait:s.wait,closed:s.closed,opened:s.opened,onClosed:t[0]||(t[0]=p=>e.$emit("dropWatcher"))},{default:c(()=>[q(e.$slots,"default")]),_:3},8,["wait","closed","opened"])}const dt=C(ct,[["render",lt]]);class ht extends ie{constructor(t,s=[0,1,2,3,6,7]){super(),this.translate=t,this.table=new Map,this.rows=[],this.meta=null,this.titles=this.useTranslater(s),this.titleIndexes=s,this.waitTable=!0,this.emptyTable=!1}dateFormatter(t){let s=t.split("");return s.length=10,s.join("").split("-").reverse().join(".")}getTitleMap(){return"income.table.thead"}useTranslater(t){return t.map(s=>this.translate(`${this.getTitleMap()}[${s}]`))}checkEmpty(){this.rows.length===0&&(this.emptyTable=!0)}setTable(){return this.table.set("titles",this.titles),this.table.set("rows",this.rows),this.waitTable=!1,this.emptyTable=!1,this}cutText(t){return String(t).length>15?this.removeLetters(t):t}setMeta(t){this.meta=t}removeLetters(t){return t.substr(0,6)+"..."+t.substr(t.length-6,t.length)}}class D{constructor(t,s,d=null,o=null){this.name=t,this.tags=s,this.id=d,this.link=o}}class ut{constructor(t,s){this.name=t,this.allowed_routes=s}}class _t extends ht{constructor(t,s){super(t,s),this.form={},this.popupClosed=!1,this.popupCardOpened=!1,this.popupCardClosed=!1,this.blocks=[],this.card=null,this.waitAddWacher=!1}useTranslater(){}closePopup(){this.popupClosed=!0,setTimeout(()=>{this.popupClosed=!1},300)}closeCardPopup(){this.popupCardClosed=!0,setTimeout(()=>{this.popupCardClosed=!1},300)}openCardPopup(){this.popupCardOpened=!0,setTimeout(()=>{this.popupCardOpened=!1},300)}setForm(t="",s=[]){this.form={...this.form,...new ut(t,s)}}dropForm(){this.form={}}async fetch(t=1,s=10){return await T.get(`/watchers/${b.getters.user.id}/${this.group_id}`,{headers:{Authorization:`Bearer ${b.getters.token}`}})}async fetchCard(t){return await T.get(`/watchers/${t}`,{headers:{Authorization:`Bearer ${b.getters.token}`}})}setCard(t){this.card={...new D(t.name,t.allowed_routes,t.id,t.url)}}dropCard(){this.card=null}async getCard(t){try{const s=(await this.fetchCard(t)).data.data;this.setCard(s),this.openCardPopup()}catch(s){console.error(`Error with: ${s}`),this.dropCard()}}async index(t=1,s=10){if(this.group_id!==-1){try{this.rows=(await this.fetch()).data.data.map(d=>new D(d.name,d.allowed_routes,d.id)),this.setTable(),this.checkEmpty()}catch(d){console.error(`Error with: ${d}`),this.emptyTable=!0}this.waitTable=!1}}async createWatcher(){var t,s;if(this.group_id!==-1){this.waitAddWacher=!0;try{const d=await T.post(`/watchers/create/${this.group_id}`,this.form,{headers:{Authorization:`Bearer ${b.getters.token}`}});b.dispatch("setNotification",{status:"success",title:"success",text:this.translate("validate_messages.watcher_message")}),this.dropForm(),this.closePopup(),this.waitAddWacher=!1}catch(d){this.waitAddWacher=!1,console.error(d),b.dispatch("setNotification",{status:"error",title:"error",text:(s=(t=d.response)==null?void 0:t.data)==null?void 0:s.message})}}}async changeWatcher(t){if(this.group_id!==-1)try{const s=await T.put(`/watchers/update/${t}`,this.form,{headers:{Authorization:`Bearer ${b.getters.token}`}});b.dispatch("setNotification",{status:"success",title:"success",text:s.data.message}),this.dropForm(),this.closePopup()}catch(s){console.error(s),b.dispatch("setNotification",{status:"false",title:"error",text:s.response.data.message}),await this.getCard(t)}}async removeWatcher(t){if(this.group_id!==-1)try{const s=await T.delete(`/watchers/delete/${t}`,{headers:{Authorization:`Bearer ${b.getters.token}`}});b.dispatch("setNotification",{status:"success",title:"success",text:s.data.message}),this.dropForm(),this.closePopup()}catch(s){console.error(s),b.dispatch("setNotification",{status:"error",title:"error",text:s.response.data.message})}}}const pt={name:"WatchersPage",components:{InstructionButton:re,WatchersList:xe,MainSlider:te,PlusIcon:ue,MainTitle:A,MainDescription:P,MainButton:M,WatchersPopupAdd:Ee,WatchersPopupRemove:nt,WatchersPopupCard:dt,WatchersCard:Qe,MainPreloader:ae,InstructionStep:Q},i18n:{sharedMessages:R},data(){return{service:new _t(this.$t),instructionService:new se,openOnBoardingPopup:!1,closeOnBoardingPopup:!1,isMounted:!1}},computed:{...F(["getActive","getAccount","viewportWidth"]),name(){var e;return(e=this.service.card)==null?void 0:e.name},activeCard(){return this.service.card}},watch:{async getActive(e){this.service.setGroupId(e),await this.service.index()},async getAccount(){await this.service.index()},"$i18n.locale"(){document.title=this.$t("header.links.watchers")},"instructionService.step"(e){e===2&&(this.openOnBoardingPopup=!0,setTimeout(()=>this.openOnBoardingPopup=!1,300)),e===3&&(this.closeOnBoardingPopup=!0,setTimeout(()=>this.closeOnBoardingPopup=!1,300))}},async mounted(){this.isMounted=!0,this.instructionService.setStepsCount(2),document.title=this.$t("header.links.watchers"),this.service.setGroupId(this.getActive),this.service.setForm(),await this.service.index()},methods:{dropWatcher(){this.service.dropCard()},async createWatcher(e){this.service.setForm(e.name,e.allowedRoutes),await this.service.createWatcher(),await this.service.index()},async changeWatcher(e){this.service.setForm(e.name,e.allowedRoutes),await this.service.changeWatcher(e.id),await this.service.index()},async removeWatcher(e){await this.service.removeWatcher(e),this.service.dropCard(),await this.service.index()}}},mt={class:"watchers"},vt={class:"watchers__head__block"},wt={class:"cabinet watchers__wrapper"};function bt(e,t,s,d,o,a){var z;const _=i("main-title"),p=i("main-description"),w=i("plus-icon"),g=i("main-button"),x=i("instruction-step"),$=i("main-preloader"),W=i("watchers-list"),u=i("main-slider"),y=i("watchers-card"),N=i("watchers-popup-add"),X=i("watchers-popup-remove"),Y=i("watchers-popup-card"),Z=i("instruction-button");return l(),v(S,null,[n("div",mt,[n("div",{class:E(["watchers__head onboarding_block",{"onboarding_block-target":o.instructionService.isVisible&&o.instructionService.step===1}])},[n("div",vt,[r(_,null,{default:c(()=>[m(h(e.$t("title")),1)]),_:1}),r(p,{class:"is-vis-text-mobile"},{default:c(()=>[m(h(e.$t("text")),1)]),_:1})]),r(g,{class:"button-md button-white button-stroke","data-popup":"#addWatcher"},{svg:c(()=>[r(w)]),_:1}),r(x,{step_active:1,steps_count:o.instructionService.steps_count,step:o.instructionService.step,"is-visible":o.instructionService.isVisible,text:"texts.watchers[0]",title:"titles.watchers[0]","class-name":"onboarding__card-top",onNext:t[0]||(t[0]=k=>o.instructionService.nextStep()),onPrev:t[1]||(t[1]=k=>o.instructionService.prevStep()),onClose:t[2]||(t[2]=k=>o.instructionService.nextStep(6))},null,8,["steps_count","step","is-visible"])],2),n("div",wt,[r($,{class:"cabinet__preloader watchers__preloader",wait:o.service.waitTable,interval:35,end:!o.service.waitTable,empty:o.service.emptyTable},null,8,["wait","end","empty"]),r(V,{name:"fade"},{default:c(()=>[G(r(u,{wait:o.service.waitTable,empty:o.service.emptyTable,"rows-num":"1000","have-nav":!1,"have-preloader":!1,meta:o.service.meta,class:"watcher_slider"},{default:c(()=>[r(W,{blocks:o.service.table.get("rows"),"active-watcher":a.activeCard,onGetWatcher:t[3]||(t[3]=k=>o.service.getCard(k))},null,8,["blocks","active-watcher"])]),_:1},8,["wait","empty","meta"]),[[L,!o.service.waitTable&&!o.service.emptyTable]])]),_:1}),r(V,{name:"fade"},{default:c(()=>[e.viewportWidth>850&&!o.service.waitTable&&!o.service.emptyTable?(l(),f(y,{key:0,watcher:a.activeCard,onChangeWatcher:a.changeWatcher,onRemoveWatcher:a.removeWatcher},null,8,["watcher","onChangeWatcher","onRemoveWatcher"])):B("",!0)]),_:1})])]),r(N,{wait:o.service.waitAddWacher,opened:o.openOnBoardingPopup,closed:o.service.popupClosed||o.closeOnBoardingPopup,"instruction-config":o.instructionService,onCreateWatcher:t[4]||(t[4]=k=>a.createWatcher(k)),onClosed:t[5]||(t[5]=k=>o.instructionService.nextStep())},null,8,["wait","opened","closed","instruction-config"]),r(X,{id:(z=a.activeCard)==null?void 0:z.id,wait:o.service.wait,closed:o.service.popupClosed,name:a.name,onRemoveWatcher:t[6]||(t[6]=k=>a.removeWatcher(k))},null,8,["id","wait","closed","name"]),e.viewportWidth<=850?(l(),f(Y,{key:0,wait:o.service.wait,closed:o.service.popupCardClosed,opened:o.service.popupCardOpened,onDropWatcher:a.dropWatcher},{default:c(()=>[!o.service.waitTable&&!o.service.emptyTable&&a.activeCard?(l(),f(y,{key:0,watcher:a.activeCard,onChangeWatcher:a.changeWatcher,onRemoveWatcher:a.removeWatcher},null,8,["watcher","onChangeWatcher","onRemoveWatcher"])):B("",!0)]),_:1},8,["wait","closed","opened","onDropWatcher"])):B("",!0),o.isMounted?(l(),f(ee,{key:1,to:".header_button-instruction"},[r(Z,{hint:"watchers",onOpenInstruction:t[7]||(t[7]=k=>o.instructionService.setStep().setVisible())})])):B("",!0)],64)}const Nt=C(pt,[["render",bt],["__scopeId","data-v-6f18c38a"]]);export{Nt as default};
